:: Widgets Masturbation Effects [widget]

<<widget "masturbationeffectsOld">>
	/*For older saves in existing masturbation scene*/
	<<if !$masturbation_oralSkill>><<set $masturbation_oralSkill to 0>><</if>>

	<<set _playerToys to window.listUniqueCarriedSextoys().filter(toy => (V.player.penisExist && !playerChastity("penis") && toy.type.includesAny("stroker")) || toy.type.includesAny("dildo","breastpump"))>>
	<<if $currentToyLeft isnot undefined and $currentToyLeft isnot "none">>
		<<set $_lefttoy to _playerToys[$currentToyLeft].name>>
	<</if>>
	<<if $currentToyRight isnot undefined and $currentToyRight isnot "none">>
		<<set $_righttoy to _playerToys[$currentToyRight].name>>
	<</if>>

	<<if $player.vaginaExist>>
		<<set $_hymenIntact to $player.virginity.vaginal is true and $sexStats.vagina.pregnancy.totalBirthEvents is 0>>
		<<vaginaWetnessCalculate>>
	<</if>>

	<<if $corruptionMasturbation>>
		<<if $leftarm is "bound" and $rightarm is "bound">>
			The slimes in your ear make you fight against the binds around your arms. You make no progress, <span class="blue">and it gives up.</span>
			<<arousal 600 "masturbation">><<stress 6>><<gstress>><<garousal>>
			<br><br>
			<<set $rightaction to "mrest">><<set $leftaction to "mrest">>
			<<set $corruptionMasturbation to false>>
			<<unset $corruptionMasturbationCount>>
		<<elseif playerHeatMinArousal() + playerRutMinArousal() gte 3000>>
			The slimes in your ear feel that it's not worth trying to force you to masturbate in your current state, <span class="blue">and it lets you go.</span>
			<<set $corruptionMasturbation to false>>
			<<unset $corruptionMasturbationCount>>
		<<else>>
			<<if $orgasmdown gte 2>>
				<<if $corruptionMasturbationCount is undefined or $corruptionMasturbationCount is null>>
					<<set $corruptionMasturbationCount to random(2,6)>>
				<</if>>
				<<set $corruptionMasturbationCount-->>
				<<if $corruptionMasturbationCount is 0>>
					<<set $corruptionMasturbation to false>>
					<<unset $corruptionMasturbationCount>>
					<<if $awareness lt 200>>
						/*Prevents the PC from continuing actions that they normally are unable to do yet*/
						<span class="green">With the loss of the control from the slimes in your ear, you
							<<if $mouth is "mpenis">>
								<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>><<set $penisuse to 0>>
								remove your <<penis>> from your mouth and move away.
							<<elseif $mouth is "mpenisentrance">>
								<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>><<set $penisuse to 0>>
								move away from your <<penis>>.
							<<elseif $mouth is "mvaginaentrance">>
								<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>>
								move away from your <<pussy>>.
							<</if>>
						</span>
					<</if>>
				<</if>>
			<</if>>
			<<if $corruptionMasturbation>>
				<<masturbationSlimeControl>>
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "moverupper" or $rightaction is "moverupper">>
		<<if $leftaction is "moverupper">>
			<<set $leftaction to 0>><<set $leftactiondefault to "mrest">>
		<</if>>
		<<if $rightaction is "moverupper">>
			<<set $rightaction to 0>><<set $rightactiondefault to "mrest">>
		<</if>>
		<<if $worn.over_upper.open is 1>>
			<<set $worn.over_upper.exposed to 2>><<set $worn.over_upper.state_top to "midriff">>
			<<if $player.breastsize gte 3>>
				You pull down your $worn.over_upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<<else>>
				You pull down your $worn.over_upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<</if>>
		<<else>>
			<<set $worn.over_upper.exposed to 2>><<set $worn.over_upper.state to "chest">>
			<<if $player.breastsize gte 3>>
				You pull up your $worn.over_upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<<else>>
				You pull up your $worn.over_upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mupper" or $rightaction is "mupper">>
		<<if $leftaction is "mupper">>
			<<set $leftaction to 0>><<set $leftactiondefault to "mrest">>
		<</if>>
		<<if $rightaction is "mupper">>
			<<set $rightaction to 0>><<set $rightactiondefault to "mrest">>
		<</if>>
		/* needs work; what if layer above is not exposed? */
		<<if $worn.upper.open is 1>>
			<<set $worn.upper.exposed to 2>><<set $worn.upper.state_top to "midriff">>
			<<if $player.breastsize gte 3>>
				You pull down your $worn.upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<<else>>
				You pull down your $worn.upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<</if>>
		<<else>>
			<<set $worn.upper.exposed to 2>><<set $worn.upper.state to "chest">>
			<<if $player.breastsize gte 3>>
				You pull up your $worn.upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<<else>>
				You pull up your $worn.upper.name, <span class="lewd">exposing your <<breastsaside>>.</span>
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "munder_upper" or $rightaction is "munder_upper">>
		<<if $leftaction is "munder_upper">>
			<<set $leftaction to 0>><<set $leftactiondefault to "mrest">>
		<</if>>
		<<if $rightaction is "munder_upper">>
			<<set $rightaction to 0>><<set $rightactiondefault to "mrest">>
		<</if>>
		/* needs work; what if layer above is not exposed? */
		<<if $worn.under_upper.open is 1>>
			<<set $worn.under_upper.exposed to 2>><<set $worn.under_upper.state_top to "midriff">>
			<<if $player.breastsize gte 3>>
				You pull down your $worn.under_upper.name <span class="lewd">and your <<breasts>> flop out.</span>
			<<else>>
				You pull down your $worn.under_upper.name, <span class="lewd">exposing your <<breasts>>.</span>
			<</if>>
		<<else>>
			<<set $worn.under_upper.exposed to 2>><<set $worn.under_upper.state to "chest">>
			<<if $player.breastsize gte 3>>
				You pull up your $worn.under_upper.name <span class="lewd">and your <<breasts>> flop out.</span>
			<<else>>
				You pull up your $worn.under_upper.name, <span class="lewd">exposing your <<breasts>>.</span>
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "moverlower" or $rightaction is "moverlower">>
		<<if $leftaction is "moverlower">>
			<<set $leftaction to 0>><<set $leftactiondefault to "mrest">>
		<</if>>
		<<if $rightaction is "moverlower">>
			<<set $rightaction to 0>><<set $rightactiondefault to "mrest">>
		<</if>>
		<<set $worn.over_lower.anus_exposed to 1>><<set $worn.over_lower.vagina_exposed to 1>><<set $worn.over_lower.exposed to 2>>
		<<if setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt is 1>>
			<<set $worn.over_lower.skirt_down to 0>>
			You lift up your $worn.over_lower.name, <span class="lewd">exposing your <<exposedlower>>.</span>
		<<else>>
			<<set $worn.over_lower.state to "thighs">>
			You pull down your $worn.over_lower.name, <span class="lewd">exposing your <<exposedlower>>.</span>
		<</if>>
	<</if>>

	<<if $leftaction is "mlower" or $rightaction is "mlower">>
		<<if $leftaction is "mlower">>
			<<set $leftaction to 0>><<set $leftactiondefault to "mrest">>
		<</if>>
		<<if $rightaction is "mlower">>
			<<set $rightaction to 0>><<set $rightactiondefault to "mrest">>
		<</if>>
		<<set $worn.lower.anus_exposed to 1>><<set $worn.lower.vagina_exposed to 1>><<set $worn.lower.exposed to 2>>
		/* needs work; what if layer above is not exposed? */
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
			<<set $worn.lower.skirt_down to 0>>
			You lift up your $worn.lower.name, <span class="lewd">exposing your <<undies>>.</span>
		<<else>>
			<<set $worn.lower.state to "thighs">>
			You pull down your $worn.lower.name, <span class="lewd">exposing your <<undies>>.</span>
		<</if>>
	<</if>>

	<<if $leftaction is "munder" or $rightaction is "munder">>
		<<if $leftaction is "munder">>
			<<set $leftaction to 0>><<set $leftactiondefault to "mrest">>
		<</if>>
		<<if $rightaction is "munder">>
			<<set $rightaction to 0>><<set $rightactiondefault to "mrest">>
		<</if>>
		<<set $worn.under_lower.anus_exposed to 1>><<set $worn.under_lower.vagina_exposed to 1>>
		<<set $worn.under_lower.state to "thighs">><<set $worn.under_lower.exposed to 2>>
		/* needs work; what if layer above is not exposed? */
		You pull down your $worn.under_lower.name, <span class="lewd">exposing your <<genitals>>.</span>
	<</if>>

	<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and $worn.lower.vagina_exposed gte 1 and $worn.under_lower.vagina_exposed gte 1>>
	<<set $_breasts_exposed to $worn.over_upper.exposed gte 1 and $worn.upper.exposed gte 1 and $worn.under_upper.exposed gte 1>>

	<<if $leftaction is "msemencover" and $rightaction is "msemencover">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftFingersSemen to 1>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightFingersSemen to 1>>
		You gather some of your semen and rub it between your fingers.
		<<arousal 200 "masturbation">>
	<<elseif $leftaction is "msemencover">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftFingersSemen to 1>>
		You gather some of your semen and rub it between your fingers.
		<<arousal 100 "masturbation">>
	<<elseif $rightaction is "msemencover">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightFingersSemen to 1>>
		You gather some of your semen and rub it between your fingers.
		<<arousal 100 "masturbation">>
	<</if>>

	<<if $leftaction is "mchest" or $rightaction is "mchest">>
		<<set _handsOnBreasts to 0>>
		<<if $leftaction is "mchest">>
			<<set _handsOnBreasts += 1>>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<arousal 100 "masturbationBreasts">><<playWithBreasts 1>><<milkvolume 1>><<set _handsCount++>>
		<</if>>
		<<if $rightaction is "mchest">>
			<<set _handsOnBreasts += 1>>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<arousal 100 "masturbationBreasts">><<playWithBreasts 1>><<milkvolume 1>><<set _handsCount++>>
		<</if>>

		/* the text output currently does not care which hand is used or if both hands are used */
		<<if $worn.over_upper.exposed gte 2 and $worn.upper.exposed gte 2 and $worn.under_upper.exposed gte 1>>
			<<arousal `100 * _handsOnBreasts` "masturbationBreasts">>
			<<if $player.breastsize lte 2>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					You tease your sensitive nipples as much as you can stand, each brush of your fingers sending jolts of excitement through you.
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					You fondle your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
				<<else>>
					You stroke your <<breasts>> and rub your nipples between your fingers, feeling the lewd warmth grow.
				<</if>>
			<<elseif $player.breastsize lte 5>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					You cup your <<breasts>> and tease your sensitive nipples as much as you can stand, each brush of your fingers sending jolts of excitement through you.
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					You fondle your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
				<<else>>
					You stroke your <<breasts>> and rub your nipples between your fingers, feeling the lewd warmth grow.
				<</if>>
			<<else>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					You cup your <<breasts>> and tease your sensitive nipples as much as you can stand. Each brush of your fingers sends jolts of excitement through you.
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					You fondle your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
				<<else>>
					You stroke your <<breasts>> and rub your nipples between your fingers, feeling the lewd warmth grow.
				<</if>>
			<</if>>
		<<else>>
			<<if $player.breastsize lte 2>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					Your <<nipples>> stand erect against the fabric of your <<top>>, straining for attention.
					You tweak and tease them as much as you can bear.
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					You fondle your <<breasts>> and tweak your nipples through your <<top>>.
				<<else>>
					You stroke your <<breasts>> and rub your nipples between your fingers. It feels good, even with your <<topaside>> in the way.
				<</if>>
			<<elseif $player.breastsize lte 5>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					Your nipples stand erect against the fabric of your <<top>>, straining for attention.
					You cup your <<breasts>> and play with your sensitive buds as much as you can bear.
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					You fondle your <<breasts>> and tweak your nipples through your <<top>>.
				<<else>>
					You stroke your <<breasts>> and rub your nipples between your fingers. It feels good, even with your <<topaside>> in the way.
				<</if>>
			<<else>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					Your nipples stand erect against the fabric of your <<top>>, straining for attention.
					You cup your <<breasts>> and play with your sensitive buds as much as you can bear.
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					You fondle your <<breasts>> and tweak your nipples through your <<top>>.
				<<else>>
					You stroke your <<breasts>> and rub your nipples between your fingers. It feels good, even with your <<topaside>> in the way.
				<</if>>
			<</if>>
		<</if>>
		<<if $lactating is 1 and $breastfeedingdisable is "f" and _handsOnBreasts gte 0>>
			<<if $milk_amount gte 1>>
				<<if $worn.over_upper.exposed is 0 or $worn.upper.exposed is 0 or $worn.under_upper.exposed is 0>>
					<span class="lewd">Milk leaks from your buds, flowing into your top.</span>
					<<if $masturbation_bowl is 1>><i>You should remove your top if you want to gather any.</i><</if>>
				<<else>>
					<span class="lewd">Milk leaks from your buds.</span>
				<</if>>
				<<breastfeed _handsOnBreasts>>
			<<else>>
				No milk leaks from your buds. You must be dry.
			<</if>>
		<</if>>
	<</if>>


	<<if $leftaction is "mchastity" or $rightaction is "mchastity">>
		<<set _stress to 0>>
		<<if $leftaction is "mchastity">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>><<set _stress++>>
		<</if>>
		<<if $rightaction is "mchastity">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>><<set _stress++>>
		<</if>>
		You try to dig your fingers beneath your $worn.genitals.name, but to no avail.
		Your <<genitals 1>> aches for your touch, but there's nothing you can do.
		<<gstress>><<stress _stress>>
	<</if>>

	<<if $leftaction is "mpenisentrance" or $rightaction is "mpenisentrance">>
		<<if $leftaction is "mpenisentrance">>
			<<set $leftactiondefault to "mpenisglans">><<set $leftarm to "mpenisentrance">><<set $leftaction to 0>>
			<<arousal 100 "masturbationGenital">>
		<</if>>
		<<if $rightaction is "mpenisentrance">>
			<<set $rightactiondefault to "mpenisglans">><<set $rightarm to "mpenisentrance">><<set $rightaction to 0>>
			<<arousal 100 "masturbationGenital">>
		<</if>>

		/* the text output currently does not care which hand is used or if both hands are used */
		<<if $worn.under_lower.vagina_exposed is 1 and $worn.lower.vagina_exposed is 1>>
			<span class="blue">You run your fingers over your <<penis>> and shiver in anticipation.</span>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			<span class="blue">You run your fingers over your <<penis>>, feeling the bulge beneath your $worn.lower.name.</span>
		<<elseif $worn.lower.vagina_exposed is 1>>
			<span class="blue">You run your fingers over your <<penis>>, feeling the bulge beneath your $worn.under_lower.name.</span>
		<</if>>
	<</if>>

	/* if your mouth is on your penis, your hands should not have access to your glans */
	<<if $mouth is "mpenis" or $mouthaction is "mpenistakein" or $mouthaction is "mpenissuck">>
		<<if $leftaction is "mpenisglans">>
			<<set $leftaction to "mpenisshaft">>
		<</if>>
		<<if $rightaction is "mpenisglans">>
			<<set $rightaction to "mpenisshaft">>
		<</if>>
	<</if>>

	<<if $vaginaaction is "mpenisflowerpenetrate" or $vaginause is "mpenisflowerpenetrate">>
		<<if $leftaction is "mvagina">>
			<<if $player.penisExist>>
				<<set $leftaction to "mvaginarub">>
			<<else>>
				<<set $leftaction to "mvaginaclit">>
			<</if>>
		<</if>>
		<<if $rightaction is "mvagina">>
			<<if $player.penisExist>>
				<<set $rightaction to "mvaginarub">>
			<<else>>
				<<set $rightaction to "mvaginaclit">>
			<</if>>
		<</if>>

		<<if $mouthaction is "mvaginaentrance">>
			<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>>
		<</if>>
		<<if $mouth is "mvaginaentrance">>
			<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>>
			You move your mouth away from your pussy.
		<</if>>

		<<if $leftaction is "mvaginatease" and $rightaction is "mvaginatease">>
			<<set $leftactiondefault to "rest">><<set $leftaction to 0>><<set $rightactiondefault to "rest">><<set $rightaction to 0>><<set $leftarm to 0>><<set $rightarm to 0>>
			You remove your fingers from your vagina.
		<<elseif $leftaction is "mvaginatease">>
			<<set $leftactiondefault to "rest">><<set $leftaction to 0>><<set $leftarm to 0>>
			You remove your finger from your vagina.
		<<elseif $rightaction is "mvaginatease">>
			<<set $rightactiondefault to "rest">><<set $rightaction to 0>><<set $rightarm to 0>>
			You remove your finger from your vagina.
		<</if>>
	<</if>>

	<<if $anusaction is "mpenisflowerpenetrate" or $anususe is "mpenisflowerpenetrate">>
		<<if $leftaction is "manus">>
			<<set $leftaction to "manusrub">>
		<</if>>
		<<if $rightaction is "manus">>
			<<set $rightaction to "manusrub">>
		<</if>>

		<<if ($leftaction is "manustease" or $leftaction is "manusprostate") and ($rightaction is "manustease" or $rightaction is "manusprostate")>>
			<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
			<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
			You remove your fingers from your anus.
		<<elseif $leftaction is "manustease" or $leftaction is "manusprostate">>
			<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
			You remove your finger from your anus.
		<<elseif $rightaction is "manustease" or $rightaction is "manusprostate">>
			<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
			You remove your finger from your anus.
		<</if>>
	<</if>>

	<<if $leftaction is "mpenisglans" and $rightaction is "mpenisglans">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationPenis">>
		<<if $player.virginity.penile is true>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You rub your virgin foreskin with increasing speed. Strange feelings emanate from the tip and through your body.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your virgin foreskin with your thumb and play with the tip. It's sensitive even though you can't pull it back.
			<<else>>
				You hold your tip of your virgin penis in your palm and gently rub the foreskin with your thumb.
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You retract and relax your foreskin, rubbing it over your glans again and again.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your foreskin against your glans and tease your frenulum.
			<<else>>
				You hold your <<penis>> in your palm and rub your foreskin against your glans.
			<</if>>
		<</if>>
	<<elseif $leftaction is "mpenisglans" or $rightaction is "mpenisglans">>
		<<if $leftaction is "mpenisglans">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "mpenisglans">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<arousal 200 "masturbationPenis">>
		<<if $player.virginity.penile is true>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You rub your virgin foreskin with increasing speed. Strange feelings emanate from the tip and through your body.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your virgin foreskin with your thumb and play with the tip. It's sensitive even though you can't pull it back.
			<<else>>
				You hold your tip of your virgin penis in your palm and gently rub the foreskin with your thumb.
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You retract and relax your foreskin, rubbing it over your glans again and again.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your foreskin against your glans and tease your frenulum.
			<<else>>
				You hold your <<penis>> in your palm and rub your foreskin against your glans.
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mpenisshaft" and $rightaction is "mpenisshaft">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationPenis">>
		<<if $player.virginity.penile is true>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You run your fingers up and down your virgin penis as roughly as your foreskin will allow.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You run your fingers up and down the length of your virgin penis.
			<<else>>
				You run your fingers against the underside of your <<penis>>, enjoying the sensation.
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You pump up and down the length of your <<penis>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You run your fingers up and down your shaft, tickling slightly and generating a lewd warmth.
			<<else>>
				You gently caress the length of your <<penis>>.
			<</if>>
		<</if>>
	<<elseif $leftaction is "mpenisshaft" or $rightaction is "mpenisshaft">>
		<<if $leftaction is "mpenisshaft">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<arousal 200 "masturbationPenis">>
		<</if>>
		<<if $rightaction is "mpenisshaft">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<arousal 200 "masturbationPenis">>
		<</if>>
		<<if $player.virginity.penile is true>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You run your fingers up and down your virgin penis as roughly as your foreskin will allow.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You run your fingers up and down the length of your virgin penis.
			<<else>>
				You run your fingers against the underside of your <<penis>>, enjoying the sensation.
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You pump up and down the length of your <<penis>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You run your fingers up and down your shaft, tickling slightly and generating a lewd warmth.
			<<else>>
				You gently caress the length of your <<penis>>.
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mpenisstop" and $rightaction is "mpenisstop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move your hands away from your <<penis>>.</span>
	<<elseif $leftaction is "mpenisstop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="lblue">You move your left hand away from your <<penis>>.</span>
	<<elseif $rightaction is "mpenisstop">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move your right hand away from your <<penis>>.</span>
	<</if>>

	/* tiny balls are too small for both hands */
	<<if $ballssize lte 0 and (($leftarm is "mballs" and $rightarm is "mballs") or ($leftaction is "mballsentrance" and $rightaction is "mballsentrance"))>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
	<</if>>

	<<silently>>
		/* describe the balls consistently if they are referred to multiple times */
		<<ballsize>><<set $_balls to _text_output + " ">>
		<<testicles>><<set $_balls += _text_output>>
	<</silently>>

	<<if $leftaction is "mballsstop" and $rightaction is "mballsstop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move your hands away from your balls.</span>
	<<elseif $leftaction is "mballsstop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="lblue">You move your left hand away from your balls.</span>
	<<elseif $rightaction is "mballsstop">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move your right hand away from your balls.</span>
	<</if>>

	<<if $leftaction is "mballsfondle" and $rightaction is "mballsfondle">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 200 "masturbationPenis">>

		<<if $arousal gte $arousalmax * (4/5)>>
			You grope your $_balls with both of your hands and enjoy the feeling of tightness as they clench up against the base of your penis.
		<<elseif $arousal gte $arousalmax * (3/5)>>
			You fondle your $_balls with both of your hands and enjoy the tickling feeling.
		<<elseif $arousal gte $arousalmax * (2/5)>>
			You jiggle your $_balls around in your hands and enjoy the feeling of gravity on them.
		<<else>>
			You roll your $_balls around in your hands.
		<</if>>
	<<elseif $leftaction is "mballsfondle" or $rightaction is "mballsfondle">>
		<<if $leftaction is "mballsfondle">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<set $_hand to "left hand">>
		<<else>>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<set $_hand to "right hand">>
		<</if>>
		<<arousal 100 "masturbationPenis">>
		/* if both hands are on their balls, say "the other" when referring to the second */
		<<set $_oneofyourballs to ($ballssize lte 0 ? "both of your $_balls" : ($_oneofyourballs is undefined ? "one of your $_balls" : "the other"))>>

		<<if $arousal gte $arousalmax * (4/5)>>
			You grope $_oneofyourballs with your $_hand and enjoy the feeling of tightness as your balls clench up against the base of your penis.
		<<elseif $arousal gte $arousalmax * (3/5)>>
			You fondle $_oneofyourballs with your $_hand and enjoy the tickling feeling.
		<<elseif $arousal gte $arousalmax * (2/5)>>
			You jiggle $_oneofyourballs in your $_hand and enjoy the feeling of gravity on it.
		<<else>>
			You stroke $_oneofyourballs with your $_hand.
		<</if>>
	<</if>>

	<<if $leftaction is "mballssqueeze" and $rightaction is "mballssqueeze">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationPenis">>
		<<set $_gently to ($arousal gte $arousalmax * (4/5) ? "urgently" : ($arousal gte $arousalmax * (3/5) ? "" : "gently"))>>

		<<switch $ballssize>>
			<<case -2 -1 0>> <span class="red">This text should be unreachable.</span>
			<<case 1 2>> You cup your $_balls with your hands and $_gently squeeze them.
			<<case 3>> You cup your $_balls with your hands and $_gently squeeze them.
			<<case 4>> You $_gently squeeze your $_balls with your hands.
		<</switch>>

		<<set _ballplayeffects to true>>

	<<elseif $leftaction is "mballssqueeze" or $rightaction is "mballssqueeze">>
		<<if $leftaction is "mballssqueeze">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<set $_hand to "left hand">>
		<<else>>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<set $_hand to "right hand">>
		<</if>>
		<<arousal 200 "masturbationPenis">>
		/* if both hands are on their balls, say "the other" when referring to the second */
		<<set $_oneofyourballs to ($ballssize lte 0 ? "your $_balls" : ($_oneofyourballs is undefined ? "one of your $_balls" : "the other"))>>
		<<set $_gently to ($arousal gte $arousalmax * (4/5) ? "urgently" : ($arousal gte $arousalmax * (3/5) ? "" : "gently"))>>

		<<switch $ballssize>>
			<<case -2 -1 0>> You cup your $_balls with your $_hand and $_gently squeeze them.
			<<case 1 2>> You cup $_oneofyourballs with your $_hand and $_gently squeeze it.
			<<case 3>> You cup $_oneofyourballs with your $_hand and $_gently squeeze it.
			<<case 4>> You $_gently squeeze $_oneofyourballs with your $_hand.
		<</switch>>

		<<set _ballplayeffects to true>>

	<</if>>

	<<if $leftaction is "mballsentrance" and $rightaction is "mballsentrance">>
		<<set $leftactiondefault to "mballsfondle">><<set $leftaction to 0>><<set $leftarm to "mballs">>
		<<set $rightactiondefault to "mballsfondle">><<set $rightaction to 0>><<set $rightarm to "mballs">>
		<<arousal 200 "masturbationPenis">>

		<<switch $ballssize>>
			<<case -2 -1 0>> <span class="red">This text should be unreachable.</span>
			<<case 1 2>> <span class="blue">You take one of your $_balls in each hand.</span>
			<<case 3>> <span class="blue">You take one of your $_balls in each hand. They fill your palms nicely.</span>
			<<case 4>> <span class="blue">You take one of your $_balls in each hand. You can barely get your hands around them.</span>
		<</switch>>

		<<set _ballplayeffects to true>>

	<<elseif $leftaction is "mballsentrance" or $rightaction is "mballsentrance">>
		<<if $leftaction is "mballsentrance">>
			<<set $leftactiondefault to "mballsfondle">><<set $leftaction to 0>><<set $leftarm to "mballs">>
			<<set $_hand to "left hand">><<set $_otherHandOnBalls to $rightarm is "mballs">>
		<<else>>
			<<set $rightactiondefault to "mballsfondle">><<set $rightaction to 0>><<set $rightarm to "mballs">>
			<<set $_hand to "right hand">><<set $_otherHandOnBalls to $leftarm is "mballs">>
		<</if>>
		<<arousal 100 "masturbationPenis">>
		/* if both hands are on their balls, say "the other" when referring to the second */
		<<set $_oneofyourballs to ($ballssize lte 0 ? "both of your $_balls" : ($_oneofyourballs is undefined ? "one of your $_balls" : "the other"))>>

		<<switch $ballssize>>
			<<case -2 -1 0>> <span class="blue">You easily grab both of your $_balls with your $_hand.</span>
			<<case 1 2>> <span class="blue">You take $_oneofyourballs in your $_hand.</span>
			<<case 3>> <span class="blue">You take $_oneofyourballs in your $_hand. It fills your palm nicely.</span>
			<<case 4>> <span class="blue">You take $_oneofyourballs in your $_hand. You can barely get your hand around it.</span>
		<</switch>>

		<<set _ballplayeffects to true>>
	<</if>>

	<<if _ballplayeffects>>
		<<if $worn.over_lower.vagina_exposed is 0>>
			<<set _highestclothinglower to $worn.over_lower.name>>
		<<elseif $worn.lower.vagina_exposed is 0>>
			<<set _highestclothinglower to $worn.lower.name>>
		<<elseif $worn.under_lower.vagina_exposed is 0>>
			<<set _highestclothinglower to $worn.under_lower.name>>
		<<else>>
			<<set $_genitals_exposed to true>>
		<</if>>
		<<if $arousal gte $arousalmax * (4/5)>>
			Your <<penis>> bucks eagerly, and
			<<if $_genitals_exposed>>
				precum leaps from the tip.
			<<else>>
				precum seeps through your _highestclothinglower.
			<</if>>
		<<elseif $arousal gte $arousalmax * (3/5)>>
			Your <<penis>> bucks eagerly, and
			<<if $_genitals_exposed>>
				precum beads at the tip.
			<<else>>
				your precum creates a dark spot on your _highestclothinglower.
			<</if>>
		<<elseif $arousal gte $arousalmax * (2/5)>>
			The pressure makes your <<penis>> throb.
		<<else>>
			The pressure makes your <<penis>> twitch.
		<</if>>
	<</if>>

	<!-- Possessed actions -->
	<<if $possessed>>
		<<dynamicblock id=control-caption>>
			<<controlcaption>>
		<</dynamicblock>>

		<<if $combatBegun is 1>>
			<<set _mResist to 0>>
			<<if ["mpenisstopW","mbreaststopW","mvaginastopW"].includes($leftaction)>>
				<<set _mResist += 2>>
			<</if>>
			<<if ["mpenisstopW","mbreaststopW","mvaginastopW"].includes($rightaction)>>
				<<set _mResist += 2>>
			<</if>>
			<<set $leftactiondefault to $leftaction>><<set $rightactiondefault to $rightaction>>

			<<if _mResist is 0>>
				<span class="pink">You let it take you.</span>
				<<pain -2>><<stress -12>><<sub 2>><<lpain>><<llstress>><<set $wraith.will += 30>>
			<<else>>
				<<set _wraithWill to Math.floor(1 + $wraith.will)>>
				<<willpowerdifficulty 1 _wraithWill true>>
				<<if $willpowerSuccess>>
					<<set _resistSuccess to 1>>
					<span class="green">
						You fight for control.
						<<if _mResist is 4>>
							Your arms lock up.
						<<else>>
							Your arm locks up.
						<</if>>
					</span>
					<<pain _mResist>><<stress _mResist>><<trauma _mResist>><<def 2>><<gpain>><<gtrauma>><<gstress>><<if _mResist is 4>><<ggcontrol>><<else>><<gcontrol>><</if>><<set $wraith.will -= Math.floor(currentSkillValue('willpower') / 24)*_mResist>>
					<<control `Math.floor(currentSkillValue('willpower') / 24)*_mResist / 10`>>
				<<else>>
					<span class="red">Your body does not obey.</span>
					<<switch $leftaction>>
						<<case "mbreastW" "mbreaststopW">><<set $leftaction to "mbreastW">>
						<<case "mvaginaW" "mvaginastopW">><<set $leftaction to "mvaginaW">>
						<<case "mpenisW" "mpenisstopW">><<set $leftaction to "mpenisW">>
						<<default>>
					<</switch>>
					<<switch $rightaction>>
						<<case "mbreastW" "mbreaststopW">><<set $rightaction to "mbreastW">>
						<<case "mvaginaW" "mvaginastopW">><<set $rightaction to "mvaginaW">>
						<<case "mpenisW" "mpenisstopW">><<set $rightaction to "mpenisW">>
						<<default>>
					<</switch>>
					<<stress 6>><<trauma 6>><<willpower 1>><<def 1>><<gtrauma>><<gstress>><<gwillpower>><<set $wraith.will -= Math.floor(currentSkillValue('willpower') / 40)*_mResist>>
				<</if>>
			<</if>>
			<br><br>
		<<else>>
			<<set $combatBegun to 1>>
		<</if>>

		<<if $leftaction is "mpenisW" and $rightaction is "mpenisW">>
			<<arousal 400 "masturbationPenis">><<set $leftaction to 0>><<set $rightaction to 0>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				Your hands wildly pump up and down the length of your <<penis>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				Your hands run their fingers up and down your shaft, tickling slightly and generating a lewd warmth.
			<<else>>
				Your hands caress the length of your <<penis>> with jerky motions.
			<</if>>
		<</if>>

		<<if $leftaction is "mpenisW" or $rightaction is "mpenisW">>
			<<arousal 200 "masturbationPenis">>
			<<set $_hand to $leftaction is "mpenisW" ? "left" : "right">>
			<<if $leftaction is "mpenisW">>
				<<set $leftaction to 0>>
			<<else>>
				<<set $rightaction to 0>>
			<</if>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				Your $_hand hand wildly pumps up and down the length of your <<penis>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				Your $_hand hand runs their fingers up and down your shaft, tickling slightly and generating a lewd warmth.
			<<else>>
				Your $_hand hand caresses the length of your <<penis>> with jerky motions.
			<</if>>
		<</if>>

		<<if $leftaction is "mbreastW" or $rightaction is "mbreastW">>
			<<if $leftaction is "mbreastW" and $rightaction is "mbreastW">>
				<<set $leftaction to 0>><<set $rightaction to 0>>
				<<arousal 400 "masturbationBreasts">><<playWithBreasts 2>><<set _handsOnBreasts to 2>>

				<<if $player.breastsize lte 2>>
					<<if $arousal gte ($arousalmax / 5) * 4>>
						Your hands tease your sensitive nipples more than you can stand, each brush of your fingers sending jolts of excitement through you.
					<<elseif $arousal gte ($arousalmax / 5) * 3>>
						Your hands fondle your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
					<<else>>
						Your hands stroke your <<breasts>> and rub your nipples between your fingers, making a lewd warmth grow.
					<</if>>
				<<elseif $player.breastsize lte 5>>
					<<if $arousal gte ($arousalmax / 5) * 4>>
						Your hands cup your <<breasts>> and tease your sensitive nipples more than you can stand, each brush of your fingers sending jolts of excitement through you.
					<<elseif $arousal gte ($arousalmax / 5) * 3>>
						Your hands fondle your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
					<<else>>
						Your hands stroke your <<breasts>> and rub your nipples between your fingers, making a lewd warmth grow.
					<</if>>
				<<else>>
					<<if $arousal gte ($arousalmax / 5) * 4>>
						Your hands cup your <<breasts>> and tease your sensitive nipples more than you can stand. Each brush of your fingers sends jolts of excitement through you.
					<<elseif $arousal gte ($arousalmax / 5) * 3>>
						Your hands fondle your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
					<<else>>
						Your hands stroke your <<breasts>> and rub your nipples between your fingers, feeling the lewd warmth grow.
					<</if>>
				<</if>>
			<<else>>
				<<if $leftaction is "mbreastW">>
					<<set $leftaction to 0>>
					<<arousal 200 "masturbationBreasts">><<playWithBreasts 1>>
					<<set $_hand to "left hand">>
				<</if>>
				<<if $rightaction is "mbreastW">>
					<<set $rightaction to 0>>
					<<arousal 200 "masturbationBreasts">><<playWithBreasts 1>>
					<<set $_hand to "right hand">>
				<</if>>
				<<set _handsOnBreasts to 1>>

				<<if $player.breastsize lte 2>>
					<<if $arousal gte ($arousalmax / 5) * 4>>
						Your $_hand teases your sensitive nipples more than you can stand, each brush of your fingers sending jolts of excitement through you.
					<<elseif $arousal gte ($arousalmax / 5) * 3>>
						Your $_hand fondles your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
					<<else>>
						Your $_hand strokes your <<breasts>> and rub your nipples between your fingers, making a lewd warmth grow.
					<</if>>
				<<elseif $player.breastsize lte 5>>
					<<if $arousal gte ($arousalmax / 5) * 4>>
						Your $_hand cup yours <<breasts>> and tease your sensitive nipples more than you can stand, each brush of your fingers sending jolts of excitement through you.
					<<elseif $arousal gte ($arousalmax / 5) * 3>>
						Your $_hand fondles your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
					<<else>>
						Your $_hand strokes your <<breasts>> and rub your nipples between your fingers, making a lewd warmth grow.
					<</if>>
				<<else>>
					<<if $arousal gte ($arousalmax / 5) * 4>>
						Your $_hand cups your <<breasts>> and tease your sensitive nipples more than you can stand. Each brush of your fingers sends jolts of excitement through you.
					<<elseif $arousal gte ($arousalmax / 5) * 3>>
						Your $_hand fondles your <<breasts>> while circling your fingers around the areola, occasionally giving your nipples a little tweak.
					<<else>>
						Your $_hand strokes your <<breasts>> and rub your nipples between your fingers, making a lewd warmth grow.
					<</if>>
				<</if>>
			<</if>>
			<<if $milk_amount gte 1>>
				<span class="lewd">Milk leaks from your buds.</span>
				<<breastfeed _handsOnBreasts>>
			<</if>>
		<</if>>

		<<if $leftaction is "mvaginaW" and $rightaction is "mvaginaW">>
			<<arousal 400 "masturbationVagina">><<set $leftaction to 0>><<set $rightaction to 0>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<switch random(1, 3)>>
					<<case 3>>Your fingers writhe in and out of your <<pussy>>, violating you with sudden, sharp thrusts.
					<<case 2>>Your clit is rubbed raw between your fingers, refusing to grant even a second for recovery.
					<<case 1>>Your fingers quake within your <<pussy>>, wracking your whole body with lewd vibrations.
				<</switch>>
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				<<switch random(1, 3)>>
					<<case 3>>Your hands probe your <<pussy>>, jerking against each other to push through.
					<<case 2>>Your hands roughly palm your <<pussy>>, one shuddering over the other.
					<<case 1>>Your hands prod your clitoris in alternation.
				<</switch>>
			<<else>>
				<<switch random(1, 3)>>
					<<case 3>>Your fingers tease your <<pussy>>, each one sailing across your slit in succession.
					<<case 2>>Your hands knead your labia, fingers twitching against your entrance.
					<<case 1>>Your hands caress your thighs, slowly prying them apart.
				<</switch>>
			<</if>>
		<</if>>

		<<if $leftaction is "mvaginaW" or $rightaction is "mvaginaW">>
			<<arousal 200 "masturbationVagina">>
			<<set $_hand to $leftaction is "mvaginaW" ? "left" : "right">>
			<<if $leftaction is "mvaginaW">>
				<<set $leftaction to 0>>
			<<else>>
				<<set $rightaction to 0>>
			<</if>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<switch random(1, 3)>>
					<<case 3>>Your $_hand hand writhes in and out of your <<pussy>>, violating you with sudden, sharp thrusts.
					<<case 2>>Your $_hand hand rams itself up your <<pussy>>, deeper than you thought possible.
					<<case 1>>Your $_hand hand quakes within your <<pussy>>, wracking your whole body with lewd vibrations.
				<</switch>>
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				<<switch random(1, 3)>>
					<<case 3>>Your $_hand hand probes your <<pussy>>, threatening to push through.
					<<case 2>>Your clitoris is twisted and tweaked between your $_hand hand.
					<<case 1>>Your $_hand hand grinds its palm into your <<pussy>>.
				<</switch>>
			<<else>>
				<<switch random(1, 3)>>
					<<case 3>>Your $_hand hand rubs against your labia, fingers twitching against your entrance.
					<<case 2>>Your $_hand hand trails a finger up your slit, sending a shiver up your spine.
					<<case 1>>Your $_hand hand circles your clit with jerky motions.
				<</switch>>
			<</if>>
		<</if>>

		<<if $leftaction is "mpenisstopW">>
			<<set $leftaction to 0>>
			You remove your left hand from your <<penis>>. It shakes.
		<</if>>
		<<if $rightaction is "mpenisstopW">>
			<<set $rightaction to 0>>
			You remove your right hand from your <<penis>>. It shakes.
		<</if>>

		<<if $leftaction is "mbreaststopW">>
			<<set $leftaction to 0>>
			You remove your left hand from your <<breasts>>. It shakes.
		<</if>>
		<<if $rightaction is "mbreaststopW">>
			<<set $rightaction to 0>>
			You remove your right hand from your <<breasts>>. It shakes.
		<</if>>

		<<if $leftaction is "mvaginastopW">>
			<<set $leftaction to 0>>
			You remove your left hand from your <<pussy>>. It shakes.
		<</if>>
		<<if $rightaction is "mvaginastopW">>
			<<set $rightaction to 0>>
			You remove your right hand from your <<pussy>>. It shakes.
		<</if>>
	<</if>>

	<!-- Mouth actions -->

	<<if $mouthaction is "mpenisentrance" and $penisuse is 0>>
		<<set $mouthactiondefault to "mpenislick">><<set $mouthaction to 0>><<arousal 100 "masturbationGenital">><<set $mouth to "mpenisentrance">>
		<<if $awareness lt 200 and $corruptionMasturbation>><span class="red">The slime in your ear forces you to bend down. You're not sure if you're going to like what's coming.</span><<awareness 1>><<gawareness>><</if>>
		<<if $worn.under_lower.vagina_exposed is 1 and $worn.lower.vagina_exposed is 1>>
			<span class="blue">You get close enough to your <<penis>> to reach out and lick the tip with your tongue.</span>
			<<arousal 100 "masturbationGenital">>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			/* this shouldn't be reachable. i think the action is not available unless the player's penis is completely uncovered. */
			<span class="blue">You run your tongue over your <<penis>>, feeling the bulge beneath your $worn.lower.name.</span>
		<<elseif $worn.lower.vagina_exposed is 1>>
			<span class="blue">You run your tongue over your <<penis>>, feeling the bulge beneath your $worn.under_lower.name.</span>
		<</if>>
		<<set $penisuse to "mouth">>
	<</if>>

	<<if $mouthaction is "mpenislick">>
		<<set $mouthactiondefault to "mpenislick">><<set $mouthaction to 0>><<arousal 100 "masturbationGenital">>
		<<if $worn.under_lower.vagina_exposed is 1 and $worn.lower.vagina_exposed is 1>>
			<<arousal 100 "masturbationGenital">>
			<<if $arousal gte $arousalmax * (4/5)>>
				Your <<penis>> twitches every time you lick it, but you don't stop.
			<<elseif $arousal gte $arousalmax * (3/5)>>
				You run your tongue over your <<penis>> head, mixing your saliva with your precum.
			<<else>>
				You run your tongue over your <<penis>> head, focusing on your sensitive spots.
			<</if>>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			/* this shouldn't be reachable. i think the action is not available unless the player's penis is completely uncovered. */
			You run your tongue over your <<penis>>, feeling the bulge beneath your $worn.lower.name.
		<<elseif $worn.lower.vagina_exposed is 1>>
			You run your tongue over your <<penis>>, feeling the bulge beneath your $worn.under_lower.name.
		<</if>>
	<</if>>

	<<if $mouthaction is "mpenistakein">>
		<<set $selfsuckDepth to 0>>
		<<set $_actiondefault to ($penisHeight is 0 ? "mpenissuck" : "mpenisdeepthroat")>>
		<<set $mouthactiondefault to $_actiondefault>><<set $mouthaction to 0>><<set $mouth to "mpenis">>
		<<arousal 200 "masturbationGenital">>
		<<if $penisHeight is 0>>
			<span class="blue">You take your <<penis>> into your mouth, sending a lewd tingle up your spine.</span>
		<<else>>
			<span class="blue">You take the head of your <<penis>> into your mouth, sending a lewd tingle up your spine.</span>
		<</if>>
		<<set $mouthstate to "penetrated">>
	<</if>>

	<<if $mouthaction is "mpenisdeepthroat">>
		<<set $selfsuckDepth += 1>>
		<<set $_actiondefault to ($selfsuckDepth lt $selfsuckLimit ? $mouthaction : "mpenissuck")>>
		<<set $mouthactiondefault to $_actiondefault>><<set $mouthaction to 0>><<set $masturbation_oralSkill++>>
		<<set $_arousalGain to 200 + 50*$selfsuckDepth>>
		<<arousal $_arousalGain "masturbationGenital">>

		You push your <<penis>> deeper into your mouth.
		/* dev note: add willpower to check if the player can get their penis down their throat? */

		<<if $selfsuckDepth is $penisHeight>>
			<<if $leftarm is "mpenisentrance" and $rightarm is "mpenisentrance">>
				<<set $leftarm to 0>><<set $leftactiondefault to "mrest">>
				<<set $rightarm to 0>><<set $rightactiondefault to "mrest">>
				<span class="lblue">You take your hands off your penis to make room.</span>
			<<elseif $leftarm is "mpenisentrance">>
				<<set $leftarm to 0>><<set $leftactiondefault to "mrest">>
				<span class="lblue">You move your left hand away from your penis to make room.</span>
			<<elseif $rightarm is "mpenisentrance">>
				<<set $rightarm to 0>><<set $rightactiondefault to "mrest">>
				<span class="lblue">You move your right hand away from your penis to make room.</span>
			<</if>>
		<</if>>
		<<set _deepthroateffects to true>>
	<</if>>

	<<if $mouthaction is "mpenispullback">>
		<<set $selfsuckDepth -= 1>>
		<<set $_arousalGain to 200 + 50*$selfsuckDepth>>
		<<arousal $_arousalGain "masturbationGenital">>

		<<if $selfsuckDepth gte 2>>
			<<set $mouthactiondefault to $mouthaction>><<set $mouthaction to 0>>
			<span class="lblue">You pull back hard on your <<penis>> and extract some of it from your throat.</span>
			<<set _deepthroateffects to true>>
		<<elseif $selfsuckDepth is 1>>
			<<set $mouthactiondefault to $mouthaction>><<set $mouthaction to 0>>
			<span class="lblue">You pull back on your <<penis>> and free it from your throat.</span>
			<<set _deepthroateffects to true>>
		<<else>>
			<<set $mouthactiondefault to "mpenisstop">><<set $mouthaction to 0>>
			<span class="lblue">You pull back until only the head of your <<penis>> remains in your mouth.</span>
		<</if>>
	<</if>>

	<<if _deepthroateffects>>
		<<switch $penisHeight>>
		<<case 0>>
			<span class="red">Error: Impossible condition.</span>
		<<case 1>>
			<<switch $selfsuckDepth>>
			<<case 1>>Your lips touch the base of your <<penis>> and the head pokes at the back of your mouth.
			<<default>><span class="red">Error: Impossible condition.</span>
			<</switch>>
		<<case 2>>
			<<switch $selfsuckDepth>>
			<<case 1>>The head of your penis is poking at the entrance to your throat.
			<<case 2>>Your lips touch the base of your <<penis>> as the head pushes into your throat.
			<<default>><span class="red">Error: Impossible condition.</span>
			<</switch>>
		<<case 3>>
			<<switch $selfsuckDepth>>
			<<case 1>>The head of your penis is poking at the entrance to your throat.
			<<case 2>>Your <<penis>> is stretching the walls of your throat.
			<<case 3>>Your lips touch the base of your <<penis>> as the shaft fills your throat.
			<<default>><span class="red">Error: Impossible condition.</span>
			<</switch>>
		<<default>>
			<span class="red">Error: Impossible condition.</span>
		<</switch>>
		<<if $selfsuckDepth is $penisHeight>>
			You've reached the bottom.
		<<elseif $selfsuckDepth is $selfsuckLimit>>
			You are not flexible enough to get any lower.
		<</if>>
	<</if>>

	<<if $mouthaction is "mpenismouthoff">>
		<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to "mpenisentrance">>
		<span class="lblue">You take your mouth off of your <<penis>>.</span>
		<<set $mouthstate to 0>>
	<</if>>

	<<if $mouthaction is "mpenissuck">>
		<<set $mouthactiondefault to "mpenissuck">><<set $mouthaction to 0>><<set $masturbation_oralSkill++>>
		<<arousal 200 "masturbationGenital">>

		<<set $_eagerly to ($arousal gte $arousalmax * (2/5) ? "eagerly" : "slowly")>>

		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $selfsuckDepth lte 1>>
				You drink down precum as it flows into your mouth while you move your head back and forth on your <<penis>>.
			<<else>>
				Precum flows down your throat as you move your head back and forth on your <<penis>>.
			<</if>>
		<<else>>
			<<if $penisHeight is $selfsuckDepth>>
				/* mouth is at base of penis */
				<<if $selfsuckDepth gte 2>>
					You lick the base of your <<penis>> while your throat massages the shaft.
				<<else>>
					You $_eagerly suck on your <<penis>> while licking the base.
				<</if>>
			<<elseif $selfsuckDepth gte 1>>
				You $_eagerly suck on your <<penis>> while licking along the shaft.
			<<else>>
				You $_eagerly suck on your <<penis>> while licking around the tip.
			<</if>>
		<</if>>
	<</if>>

	<<if $mouthaction is "mpenisstop">>
		<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>><<set $penisuse to 0>>
		<span class="lblue">You move your mouth away from your <<penis>>.</span>
	<</if>>

	<<if $mouthaction is "mvaginaentrance">>
		<<set $mouthactiondefault to "mvaginalick">><<set $mouthaction to 0>><<arousal 100 "masturbationGenital">><<set $mouth to "mvaginaentrance">><<set $vaginause to "mouth">>
		<<if $awareness lt 200 and $corruptionMasturbation>><span class="red">The slime in your ear forces you to bend down. You're not sure if you're going to like what's coming.</span><<awareness 1>><<gawareness>><</if>>
		<<if $_genitals_exposed>>
			<span class="blue">You run your tongue over your exposed clit and shiver in anticipation.</span>
			<<arousal 100 "masturbationGenital">>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			<span class="blue">You run your tongue over your <<pussy>>, feeling it beneath your $worn.lower.name.</span>
		<<elseif $worn.lower.vagina_exposed is 1>>
			<span class="blue">You run your tongue over your <<pussy>>, feeling it beneath your $worn.under_lower.name.</span>
		<</if>>
	<</if>>

	<<if $mouthaction is "mvaginalick">>
		<<set $mouthactiondefault to "mvaginalick">><<set $mouthaction to 0>><<arousal 100 "masturbationGenital">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You shiver in anticipation as you lick up the fluid coming from your <<pussy>>.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You lick your <<pussy>>, trying to reach the more difficult spots.
		<<else>>
			You lick your <<pussy>>.
		<</if>>
	<</if>>
	<<if $mouthaction is "mvaginaclit">>
		<<set $mouthactiondefault to "mvaginaclit">><<set $mouthaction to 0>><<arousal 200 "masturbationGenital">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You shiver in anticipation as you suck and gently rub your clit against your teeth.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You lick and suck your clit.
		<<else>>
			You lick your clit.
		<</if>>
	<</if>>
	<<if $mouthaction is "mvaginastop">>
		<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>><<set $vaginause to 0>>
		<span class="lblue">You move your mouth away from your <<pussy>>.</span>
	<</if>>

	<<if $player.penisExist>>
		<<if $arousal gte $arousalmax * (3/5) and $mouth isnot "mpenis" and not _ballplayeffects>>
			<<if $worn.over_lower.vagina_exposed is 0>>
				<<set _highestclothinglower to $worn.over_lower.name>>
			<<elseif $worn.lower.vagina_exposed is 0>>
				<<set _highestclothinglower to $worn.lower.name>>
			<<elseif $worn.under_lower.vagina_exposed is 0>>
				<<set _highestclothinglower to $worn.under_lower.name>>
			<<else>>
				<<set $_genitals_exposed to true>>
			<</if>>
			<<if $arousal gte $arousalmax * (4/5)>>
				Your <<penis "strap-on">> bucks eagerly, and
				<<if $_genitals_exposed>>
					precum leaps from the tip.
				<<else>>
					precum seeps through your _highestclothinglower.
				<</if>>
			<<else>>
				Your <<penis "strap-on">> bucks eagerly, and
				<<if $_genitals_exposed>>
					precum beads at the tip.
				<<else>>
					your precum creates a dark spot on your _highestclothinglower.
				<</if>>
			<</if>>
		<</if>>
	<</if>>

	<<if $mouthaction is "mpenisflowerlick">>
		<<set $mouthactiondefault to "mpenisflowerlick">><<set $mouthaction to 0>><<set $mouth to "mpenisflowerlick">><<arousal 200 "mouth">><<drugs 10>><<set $moorPhallusPlant to 2>><<set $masturbation_oralSkill++>>
		<<print either(
			"You almost take the phallus plant into your mouth, but suddenly feel apprehensive.",
			"You lick the phallus plant's tip and swallow the sweet liquid.",
			"You lick the phallus plant's tip.",
		)>>
		<<if $vaginaaction is "mpenisflowerrub">>
			<<set $vaginaaction to 0>><<set $vaginaactiondefault to "mrest">>
		<</if>>
		<<if $anusaction is "mpenisflowerrub">>
			<<set $anusaction to 0>><<set $anusactiondefault to "mrest">>
		<</if>>
	<</if>>

	<<if $mouthaction is "mpenisflowertakein">>
		<<set $mouthactiondefault to "mpenisflowersuck">><<set $mouthaction to 0>><<set $mouth to "mpenisflowersuck">><<arousal 300 "oral">><<drugs 10>>
		<<if $player.virginity.oral is true>><<takeVirginity "phallus plant" "oral">><</if>>
		You suck on the plant. It tastes very sweet, and you feel yourself heating up.
		<<set $mouthstate to "penetrated">>
	<</if>>

	<<if $mouthaction is "mpenisflowerstop">>
		<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>><<set $moorPhallusPlant to 1>>
		<span class="lblue">You stop licking the plant.</span>
	<</if>>

	<<if $mouthaction is "mpenisflowersuck">>
		<<set $mouthactiondefault to "mpenisflowersuck">><<set $mouthaction to 0>><<arousal 500 "oral">><<drugs 10>><<set $masturbation_oralSkill++>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You shiver as you drink down the fluid while sucking and moving your head back and forward.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You're sucking on the plant while lapping up its fluid.
		<<else>>
			You're sucking on the phallus plant.
		<</if>>
	<</if>>

	<<if $mouthaction is "mpenisflowersuckstop">>
		<<set $mouthactiondefault to "mpenisflowersuck">><<set $mouthaction to 0>><<arousal 300 "oral">><<drugs 10>>
		<span class="red">Your head keeps bobbing up and down, sucking on the phallus plant. Try as you might, you just can't will yourself to stop.</span>
	<</if>>

	<<if $mouthaction is "maphropill">>
		<<set $mouthactiondefault to "mrest">><<set $mouthaction to 0>><<set $mouth to 0>>
		<<set $_pills to $player.inventory.sextoys["aphrodisiac pills"][0]>>
		<<set $_pills.uses -= 1>>
		<<if $_pills.uses lte 0>>
			<<run V.player.inventory.sextoys["aphrodisiac pills"].splice(0,1)>>
		<</if>>
		<<if $drugged gt 0>>
			<br>
			You pop an aphrodisiac pill into your mouth and swallow. The lewd warmth within you intensifies.
			<br>
		<<else>>
			<br>
			You pop an aphrodisiac pill into your mouth and swallow. A lewd warmth begins to spread in your belly.
			<br>
		<</if>>
		<<drugs 300>>
	<</if>>

	<!-- Vagina actions -->

	<<if $vaginaaction is "mpenisflowerrub">>
		<<set $vaginaactiondefault to "mpenisflowerrub">><<set $vaginaaction to 0>><<set $vaginause to "mpenisflowerrub">><<set $moorPhallusPlant to 2>>
		<<if !$_genitals_exposed>>
			<<arousal 100 "vaginal">>
			You grind your crotch against the plant, although your clothing gets in the way.
		<<else>>
			<<arousal 200 "vaginal">>
			<<print either(
				"You nearly impale yourself on the plant, as a sudden burst of desire hits you. You stop yourself at the last moment, and gently circle the plant around your entrance.",
				"You rub your <<if $player.penisExist>><<penis>><<else>>clit<</if>> against the plant.",
				"You rub your vulva against the phallus plant.",
			)>>
		<</if>>
		<<if $anusaction is "mpenisflowerrub">>
			<<set $anusaction to 0>><<set $anusactiondefault to "mrest">>
		<</if>>
	<</if>>

	<<if $vaginaaction is "mpenisflowerpenetrate">>
		<<set $vaginaactiondefault to "mpenisflowerbounce">><<set $vaginaaction to 0>><<set $vaginause to "mpenisflowerpenetrate">>
		<<arousal 1000 "vaginal">><<vaginalstat>>
		You lower yourself down, allowing the plant to penetrate you.
		<<vaginaraped>>
		<<if $player.virginity.vaginal is true>>
			<<takeVirginity "a phallus plant" "vaginal">>
			You almost scream out as your vagina struggles to accommodate the plant, but the pain is gone within moments.
		<<else>>
			You've never felt anything quite like it before.
		<</if>>
		<<set $vaginastate to "penetrated">>
	<</if>>

	<<if $vaginaaction is "mpenisflowerstop">>
		<<set $vaginaactiondefault to "mrest">><<set $vaginaaction to 0>><<set $vaginause to 0>><<set $moorPhallusPlant to 1>>
		<span class="lblue">You stop rubbing your vagina against the phallus plant.</span>
	<</if>>

	<<if $vaginaaction is "mpenisflowerbounce">>
		<<set $vaginaactiondefault to "mpenisflowerbounce">><<set $vaginaaction to 0>><<arousal 500 "vaginal">><<drugs 10>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You hungrily ride the plant, rubbing it as quickly as you can. The sensation threatens to drive you mad.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You bounce on the phallus plant. The sensation threatens to drive you mad.
		<<else>>
			You gently bounce on the phallus plant, each poke sending a wave of pleasure through your body.
		<</if>>
	<</if>>

	<<if $vaginaaction is "mpenisflowerpenetratestop">>
		<<set $vaginaactiondefault to "mpenisflowerbounce">><<set $vaginaaction to 0>><<arousal 300 "vaginal">><<drugs 10>>
		<span class="red">Your legs fail to lift you off of the plant, as if your body isn't obeying you.</span>
	<</if>>

	<!-- Anus actions -->

	<<if $anusaction is "mpenisflowerrub">>
		<<set $anusactiondefault to "mpenisflowerrub">><<set $anusaction to 0>><<set $anususe to "mpenisflowerrub">><<set $moorPhallusPlant to 2>>
		<<if !$_genitals_exposed>>
			<<arousal 100 "anal">>
			You grind your ass against the plant, although your clothes get in the way.
		<<else>>
			<<arousal 200 "anal">>
			<<print either(
				"You nearly let yourself take the whole plant into your anus, but stop yourself at the last moment. You gently circle the plant around the entrance.",
				"You rub the phallus plant between your <<bottom>> cheeks.",
				"You rub your anus against the phallus plant.",
			)>>
		<</if>>
	<</if>>

	<<if $anusaction is "mpenisflowerpenetrate">>
		<<set $anusactiondefault to "mpenisflowerbounce">><<set $anusaction to 0>><<set $anususe to "mpenisflowerpenetrate">>
		<<arousal 1000 "anal">><<analstat>>
		You lower yourself down, allowing the plant to penetrate you.
		<<if $player.virginity.anal is true>>
			<<takeVirginity "a phallus plant" "anal">>
			You almost scream out as <span class="red">your no longer virgin</span> anus struggles to accommodate the plant, but the pain is gone within moments.
		<<else>>
			You've never felt anything quite like it before.
		<</if>>
	<</if>>

	<<if $anusaction is "mpenisflowerstop">>
		<<set $anusactiondefault to "mrest">><<set $anusaction to 0>><<set $anususe to 0>><<set $moorPhallusPlant to 1>>
		<span class="lblue">You stop rubbing your anus against the phallus plant.</span>
	<</if>>

	<<if $anusaction is "mpenisflowerbounce">>
		<<set $anusactiondefault to "mpenisflowerbounce">><<set $anusaction to 0>><<arousal 500 "anal">><<drugs 10>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You roughly ride the plant, rubbing it as quickly as you can. It's unlike anything you've felt before.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You ride the plant<<if $player.penisExist>>, trying to get it to hit your prostate<</if>>. It's unlike anything you've felt before.
		<<else>>
			You gently ride the phallus plant, each poke sending a wave of pleasure through your body.
		<</if>>
	<</if>>

	<<if $anusaction is "mpenisflowerpenetratestop">>
		<<set $anusactiondefault to "mpenisflowerbounce">><<set $anusaction to 0>><<arousal 300 "anal">><<drugs 10>>
		<span class="red">Your legs fail to lift you off of the plant, as if your body isn't obeying you.</span>
	<</if>>

	/* Sex toy pick up actions */
	<<if $leftaction is "mpickupdildo" and $rightaction is "mpickupdildo" and $selectedToyLeft is $selectedToyRight>>
		<<set $rightaction to 0>>
	<</if>>

	<<if $leftaction is "mpickupdildo" or $rightaction is "mpickupdildo">>
		<<set $_actiondefault to ($player.vaginaExist ? "mvaginaentrancedildo" : "manusentrancedildo")>>
		<<set $_actiondefaultstroker to "mpenisentrancestroker">>
		<<set $_actiondefaultbreastpump to "mbreastpump">>

		<<if $leftaction is "mpickupdildo" and $rightaction is "mpickupdildo">>
			<<set $currentToyLeft to $selectedToyLeft>>
			<<if _playerToys[$currentToyLeft].type.includes("stroker")>>
				<<set $leftactiondefault to $_actiondefaultstroker>>
			<<elseif _playerToys[$currentToyLeft].type.includes("breastpump")>>
				<<set $leftactiondefault to $_actiondefaultbreastpump>>
			<<else>>
				<<set $leftactiondefault to $_actiondefault>>
			<</if>>
			<<set $leftaction to 0>><<set $leftarm to "mpickupdildo">>
			<<arousal 200 "masturbation">>
			You pick up your <<print _playerToys[$currentToyLeft].colour or "">> _playerToys[$currentToyLeft].name with your left hand.

			<<set $currentToyRight to $selectedToyRight>>
			<<if _playerToys[$currentToyRight].type.includes("stroker")>>
				<<set $rightactiondefault to $_actiondefaultstroker>>
			<<elseif _playerToys[$currentToyRight].type.includes("breastpump")>>
				<<set $rightactiondefault to $_actiondefaultbreastpump>>
			<<else>>
				<<set $rightactiondefault to $_actiondefault>>
			<</if>>
			<<set $rightaction to 0>><<set $rightarm to "mpickupdildo">>
			<<arousal 200 "masturbation">>
			You pick up your <<print _playerToys[$currentToyRight].colour or "">> _playerToys[$currentToyRight].name with your right hand.

		<<elseif $leftaction is "mpickupdildo">>
			<<set $currentToyLeft to $selectedToyLeft>>
			<<if _playerToys[$currentToyLeft].type.includes("stroker")>>
				<<set $leftactiondefault to $_actiondefaultstroker>>
			<<elseif _playerToys[$currentToyLeft].type.includes("breastpump")>>
				<<set $leftactiondefault to $_actiondefaultbreastpump>>
			<<else>>
				<<set $leftactiondefault to $_actiondefault>>
			<</if>>
			<<set $leftaction to 0>><<set $leftarm to "mpickupdildo">>
			<<arousal 200 "masturbation">>
			You pick up your <<print _playerToys[$currentToyLeft].colour or "">> _playerToys[$currentToyLeft].name with your left hand.

		<<elseif $rightaction is "mpickupdildo">>
			<<set $currentToyRight to $selectedToyRight>>
			<<if _playerToys[$currentToyRight].type.includes("stroker")>>
				<<set $rightactiondefault to $_actiondefaultstroker>>
			<<elseif _playerToys[$currentToyRight].type.includes("breastpump")>>
				<<set $rightactiondefault to $_actiondefaultbreastpump>>
			<<else>>
				<<set $rightactiondefault to $_actiondefault>>
			<</if>>
			<<set $rightaction to 0>><<set $rightarm to "mpickupdildo">>
			<<arousal 200 "masturbation">>
			You pick up your <<print _playerToys[$currentToyRight].colour or "">> _playerToys[$currentToyRight].name with your right hand.
		<</if>>
	<</if>>

	<<if $leftaction is "mdildostop" and $rightaction is "mdildostop">>
		<<set $fingersInVagina to 0>>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You let go of the <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>.</span>
		<span class="lblue">You let go of the <<toy $currentToyLeft>> and <<toy $currentToyRight>>.</span>
		<<set $currentToyRight to "none">><<set $currentToyLeft to "none">>
	<<elseif $leftaction is "mdildostop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="lblue">You let go of the <<toyName $currentToyLeft>> in your left hand.</span>
		<<set $currentToyLeft to "none">>
	<<elseif $rightaction is "mdildostop">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You let go of the <<toyName $currentToyRight>> in your right hand.</span>
		<<set $currentToyRight to "none">>
	<</if>>

	/* Stroker actions*/

	<<if $penisuse isnot 0 and $penisuse isnot "stroker">>
	<<elseif $leftaction is "mpenisentrancestroker" and $rightaction is "mpenisentrancestroker">>
		<<set $_actiondefault to "mpenisentrancestroker">>
		<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mpenisentrancestroker">>
		<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mpenisentrancestroker">>
		<<arousal 50 "masturbationPenis">>
		<<if $_genitals_exposed and $worn.genitals.vagina_exposed gte 1>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your exposed <<penis>> and shiver in anticipation.</span>
		<<elseif $worn.genitals.vagina_exposed is 0>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<penis>>, feeling its shape beneath your $worn.genitals.name.</span>
		<<elseif $worn.under_lower.vagina_exposed is 0>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<penis>>, feeling its shape beneath your $worn.lower.name.</span>
		<<elseif $worn.lower.vagina_exposed is 0>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<penis>>, feeling its shape beneath your $worn.under_lower.name.</span>
		<<else>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<penis>>, feeling its shape beneath your clothing.</span>
		<</if>>
		<<set $penisuse to "stroker">>
	<<elseif $leftaction is "mpenisentrancestroker">>
		<<set $_actiondefault to "mpenisentrancestroker">>
		<<if $leftaction is "mpenisentrancestroker">>
			<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mpenisentrancestroker">>
		<</if>>
		<<arousal 50 "masturbationPenis">>
		<span class="blue">You pick up your <<toyName $currentToyLeft>> and run it over your <<penis>>,
			<<if $_genitals_exposed>>
				shivering in anticipation.
			<<elseif $worn.lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.lower.name.
			<<elseif $worn.under_lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.under_lower.name.
			<<else>>
				feeling its shape beneath your clothing.
			<</if>>
		</span>
		<<set $penisuse to "stroker">>
	<<elseif $rightaction is "mpenisentrancestroker">>
		<<set $_actiondefault to "mpenisentrancestroker">>
		<<if $rightaction is "mpenisentrancestroker">>
			<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mpenisentrancestroker">>
		<</if>>
		<<arousal 50 "masturbationPenis">>
		<span class="blue">You pick up your <<toyName $currentToyRight>> and run it over your <<penis>>,
			<<if $_genitals_exposed>>
				shivering in anticipation.
			<<elseif $worn.lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.lower.name.
			<<elseif $worn.under_lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.under_lower.name.
			<<else>>
				feeling its shape beneath your clothing.
			<</if>>
		</span>
		<<set $penisuse to "stroker">>
	<</if>>

	<<if $leftaction is "mpenisstroker" or $rightaction is "mpenisstroker">>
		<<if $leftaction is "mpenisstroker">>
			<<set $_toy to getToyName($currentToyLeft)>>
			<<set $leftactiondefault to "mpenisstroker">><<set $leftaction to 0>><<set $leftarm to "mpenisstroker">>
		<</if>>
		<<if $rightaction is "mpenisstroker">>
			<<set $_toy to getToyName($currentToyRight)>>
			<<set $rightactiondefault to "mpenisstroker">><<set $rightaction to 0>><<set $rightarm to "mpenisstroker">>
		<</if>>
		<<if $rightarm is "mpenisstroker" and $leftarm is "mpenisstroker">>
			<<set $_toy to getToyName($currentToyLeft) + " and " + getToyName($currentToyRight)>>
			<<arousal 50 "masturbationPenis">>
		<</if>>
		<<arousal 400 "masturbationPenis">>
		<span class="purple">You fuck your <<penis>> with the $_toy.</span>
		<<set $penisuse to "stroker">>
	<</if>>

	<<if $leftaction is "mpenisstopstroker" and $rightaction is "mpenisstopstroker">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>><<set $penisuse to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> away from your <<penis>>.</span>
	<<elseif $leftaction is "mpenisstopstroker">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<if !["mpenisentrancestroker","mpenisstroker"].includes($rightarm)>><<set $penisuse to 0>><</if>>
		<span class="purple">You move your _playerToys[$currentToyLeft].name in your left hand away from your <<penis>>.</span>
	<<elseif $rightaction is "mpenisstopstroker">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>><<set $penisuse to 0>>
		<<if !["mpenisentrancestroker","mpenisstroker"].includes($leftarm)>><<set $penisuse to 0>><</if>>
		<span class="purple">You move your _playerToys[$currentToyRight].name in your right hand away from your <<penis>>.</span>
	<</if>>

	/* Breast pump actions*/

	<<if $leftaction is "mbreastpump" and $rightaction is "mbreastpump">>
		<<set $_actiondefault to "mbreastpumppump">>
		<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mbreastpump">>
		<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mbreastpump">>
		<span class="blue">You seal your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<breasts>>, preparing to milk them.</span>
	<<elseif $leftaction is "mbreastpump">>
		<<set $_actiondefault to "mbreastpumppump">>
		<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mbreastpump">>
		<span class="blue">You seal your <<toyName $currentToyLeft>> over your <<breasts>>, preparing to milk them.</span>
	<<elseif $rightaction is "mbreastpump">>
		<<set $_actiondefault to "mbreastpumppump">>
		<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mbreastpump">>
		<span class="blue">You seal your <<toyName $currentToyRight>> over your <<breasts>>, preparing to milk them.</span>
	<</if>>

	<<set _pumpsOnBreasts to 0>>
	<<if $leftaction is "mbreastpumppump">>
		<<set $leftactiondefault to "mbreastpumppump">>
		<<arousal 75 "masturbationNipples">><<playWithBreasts 3>>
		<<set _pumpsOnBreasts++>>
	<</if>>
	<<if $rightaction is "mbreastpumppump">>
		<<set $rightactiondefault to "mbreastpumppump">>
		<<arousal 75 "masturbationNipples">><<playWithBreasts 3>>
		<<set _pumpsOnBreasts++>>
	<</if>>

	<<if _pumpsOnBreasts>>
		You attempt to use your <<if $_lefttoy>><<toyName $currentToyLeft>><</if>><<if $_lefttoy and $_righttoy>> and <</if>><<if $_righttoy>><<toyName $currentToyRight>><</if>> on your <<breasts>>
		<<if $lactating is 1 and $breastfeedingdisable is "f">>
			<<if $milk_amount gte 1>>
				<span class="lewd">and milk flows from your buds into the bottle.</span>
				<<breastfeed `Math.floor(_pumpsOnBreasts * 3.5)`>>
			<<else>>
				but no milk flows from your buds. You must be dry.
			<</if>>
		<<else>>
			but no milk flows from your buds. You must not be producing milk yet.
			<<if (!$daily.lactatingPressure or $daily.lactatingPressure lte 5) and random(0,100) gte 90>>
				<<if !$daily.lactatingPressure>><<set $daily.lactatingPressure to 0>><</if>>
				<<set $daily.lactatingPressure++>>
				<<milkvolume _pumpsOnBreasts>>
			<</if>>
		<</if>>
		<<if $leftaction is "mbreastpumppump">><<set $leftaction to 0>><</if>>
		<<if $rightaction is "mbreastpumppump">><<set $rightaction to 0>><</if>>
	<</if>>

	<<if $leftaction is "mstopbreastpump" and $rightaction is "mstopbreastpump">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> away from your <<breasts>>.</span>
	<<elseif $leftaction is "mstopbreastpump">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="purple">You move your _playerToys[$currentToyLeft].name in your left hand away from your <<breasts>>.</span>
	<<elseif $rightaction is "mstopbreastpump">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your _playerToys[$currentToyRight].name in your right hand away from your <<breasts>>.</span>
	<</if>>

	/* Bullet vibrator actions*/

	<<if $leftaction is "mchestvibrate" or $rightaction is "mchestvibrate">>
		<<set _toysOnBreasts to 0>>
		<<if $leftaction is "mchestvibrate">>
			<<set _toysOnBreasts += 1>>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<arousal 200 "masturbationNipples">><<playWithBreasts 2>><<set _toysCount++>>
			<<set _nippleToyName to _playerToys[$currentToyLeft].name>>
			<<set _toyHand to 'your left hand'>>
		<</if>>
		<<if $rightaction is "mchestvibrate">>
			<<set _toysOnBreasts += 1>>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<arousal 200 "masturbationNipples">><<playWithBreasts 2>><<set _toysCount++>>
			<<if _nippleToyName>>
				<<set _nippleToyName += " and  " + _playerToys[$currentToyRight].name>>
				<<set _toyHand to 'both hands'>>
			<<else>>
				<<set _nippleToyName to _playerToys[$currentToyRight].name>>
				<<set _toyHand to 'your right hand'>>
			<</if>>
		<</if>>

		<<if $worn.over_upper.exposed gte 2 and $worn.upper.exposed gte 2 and $worn.under_upper.exposed gte 1>>
			<<arousal `200 * _toysOnBreasts` "masturbationNipples">>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				Your nipples stand erect despite the _nippleToyName being rubbed against them as hard as you can stand, vibrations sending a constant feeling of pleasure through you.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your _nippleToyName against your hardening nipples with _toyHand.
			<<else>>
				You press your _nippleToyName against your nipples with _toyHand, feeling the lewd warmth grow as it continues to vibrate.
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				Your nipples stand erect against your <<topaside>>, despite the _nippleToyName being rubbed against them through the fabric.
				Your nipples stand erect against despite the _nippleToyName being rubbed and vibrated against them below your <<topaside>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your _nippleToyName against your hardening nipples through your <<topaside>> with _toyHand.
			<<else>>
				You press your _nippleToyName against your nipples with _toyHand. It feels good, even with your <<topaside>> in the way.
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mpenisvibrate" or $rightaction is "mpenisvibrate" and $penisuse is 0>>
		<<set _toysOnPenis to 0>>
		<<if $leftaction is "mpenisvibrate">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<arousal 200 "masturbationPenis">><<set _toysOnPenis++>>
			<<set _penisToyName to _playerToys[$currentToyLeft].name>>
		<</if>>
		<<if $rightaction is "mpenisvibrate">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<arousal 200 "masturbationPenis">><<set _toysOnPenis++>>
			<<if _penisToyName>>
				<<set _penisToyName += " and  " + _playerToys[$currentToyRight].name>>
			<<else>>
				<<set _penisToyName to _playerToys[$currentToyRight].name>>
			<</if>>
		<</if>>
		<<if $worn.over_upper.exposed lte 1 and $worn.upper.exposed lte 1 and $worn.under_upper.exposed is 0>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You rub your _penisToyName up and down your <<penis>> through your <<bottomaside>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your _penisToyName up and down your <<penis>>, its vibrations quickly making you aroused even through your <<bottomaside>>.
			<<else>>
				You gently hold your _penisToyName against the underside of your <<penis>>, enjoying the sensation despite your <<bottomaside>> being in the way.
			<</if>>
		<<elseif $player.virginity.penile is true>>
			<<arousal `200 * _toysOnPenis` "masturbationPenis">>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You rub your vibrating _penisToyName up and down your virgin penis as roughly as your foreskin will allow.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your _penisToyName up and down your virgin penis, its vibrations quickly making you aroused.
			<<else>>
				You gently hold your vibrating _penisToyName against the underside of your <<penis>>, enjoying the sensation.
			<</if>>
		<<else>>
			<<arousal `200 * _toysOnPenis` "masturbationPenis">>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You rub your vibrating _penisToyName up and down your <<penis>>.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You rub your _penisToyName up and down your <<penis>>, its vibrations generating a quickly-growing lewd warmth.
			<<else>>
				You hold your vibrating _penisToyName against the underside of your <<penis>>, enjoying the sensation.
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginaclitvibrate" or $rightaction is "mvaginaclitvibrate">>
		<<set _toysOnClit to 0>>
		<<if $leftaction is "mvaginaclitvibrate">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<arousal 200 "masturbationVagina">><<set _toysOnClit++>>
			<<set _clitToyName to _playerToys[$currentToyLeft].name>>
		<</if>>
		<<if $rightaction is "mvaginaclitvibrate">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<arousal 200 "masturbationVagina">><<set _toysOnClit++>>
			<<if _clitToyName>>
				<<set _clitToyName += " and  " + _playerToys[$currentToyRight].name>>
			<<else>>
				<<set _clitToyName to _playerToys[$currentToyRight].name>>
			<</if>>
		<</if>>
		<<if $_genitals_exposed and $bugsinside is 1>>
			<<arousal `200 * _toysOnClit` "masturbationVagina">>
			<span class="blue">You gently press your _clitToyNameagainst against your <<clit>>, the vibrations combined with the sensation of the insects crawling around within you making your toes curl.</span>
			<<addVaginalWetness 4>>
		<<elseif $_genitals_exposed>>
			<<arousal `200 * _toysOnClit` "masturbationVagina">>
			<span class="blue">
				You gently press your _clitToyName against your <<clit>>,
				<<if $mouth is "mdildomouth">>
					the soft moans elicited by the sensation muffled by the
					<<if $worn.face.type.includes("gag")>>
						<<print $worn.face.name>>
					<<elseif $leftarm is "mdildomouth">>
						<<print _playerToys[$currentToyLeft].name>>
					<<else>>
						<<print _playerToys[$currentToyRight].name>>
					<</if>>
					obstructing your mouth.
				<<else>>
					moaning softly at the sensation.
				<</if>>
			</span>
			<<addVaginalWetness 4>>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			<span class="blue">You press your _clitToyName against your <<clit>> through your $worn.lower.name, enjoying the way it feels even through the fabric.</span>
			<<addVaginalWetness 2>>
		<<elseif $worn.lower.vagina_exposed is 1>>
			<span class="blue">You press your _clitToyName against your <<clit>> through your $worn.under_lower.name, enjoying the way it feels even through the fabric.</span>
			<<addVaginalWetness 1>>
		<<else>>
			<span class="blue">You firmly press your _clitToyName against your <<clit>> through your clothes, enjoying the way it feels despite the layers of fabric in the way.</span>
			<<addVaginalWetness 0>>
		<</if>>
	<</if>>

	/* Small Dildo and dildo actions*/

	<<if $leftaction is "mdildomouthentrance" and $mouth is 0 and ($rightaction isnot "mdildomouthentrance" or random(0,100) gte 50)>>
		<<set $leftactiondefault to "mdildomouth">><<set $leftaction to 0>><<set $leftarm to "mdildomouthentrance">><<set $mouth to "mdildomouthentrance">>
		<<set $mouthactiondefault to "mdildolick">>
		<<arousal 100 "masturbationMouth">>
		You bring your <<print _playerToys[$currentToyLeft].name>> up to your mouth,
		<<if currentSkillValue("oralskill") lt 100>>
			eager for some practice.
		<<else>>
			enjoying the sensation of it against your lips.
		<</if>>
	<</if>>

	<<if $rightaction is "mdildomouthentrance" and $mouth is 0>>
		<<set $rightactiondefault to "mdildomouth">><<set $rightaction to 0>><<set $rightarm to "mdildomouthentrance">><<set $mouth to "mdildomouthentrance">>
		<<set $mouthactiondefault to "mdildolick">>
		<<arousal 100 "masturbationMouth">>
		You bring your <<print _playerToys[$currentToyRight].name>> up to your mouth,
		<<if currentSkillValue("oralskill") lt 100>>
			eager for some practice.
		<<else>>
			enjoying the sensation of it against your lips.
		<</if>>
	<</if>>

	<<if $leftaction is "mdildopiston" or $rightaction is "mdildopiston">>
		<<if $leftaction is "mdildopiston">><<set $leftactiondefault to $leftaction>><<set $leftaction to 0>><<set $_mouthDildo to $currentToyLeft>><</if>>
		<<if $rightaction is "mdildopiston">><<set $rightactiondefault to $rightaction>><<set $rightaction to 0>><<set $_mouthDildo to $currentToyRight>><</if>>
		<<if _playerToys[$_mouthDildo].name.includes("small")>><<set $_smallDildo to true>><</if>>
		<<arousal 100 "masturbationOral">><<set $masturbation_oralSkill++>>
		<<if currentSkillValue("oralskill") lt 100>>
			You carefully move the <<print _playerToys[$_mouthDildo].name>> back and forth in your mouth,
			<<if $_smallDildo>>
				its modest size perfect for a beginner like you.
			<<else>>
				careful not to push it in too deep.
			<</if>>
		<<elseif currentSkillValue("oralskill") lt 200>>
			<<arousal 100 "masturbationOral">>
			You bob your head back and forth on the <<print _playerToys[$_mouthDildo].name>>, enjoying the sensation of it rubbing against your lips and tongue.
		<<else>>
			<<arousal 200 "masturbationOral">>
			You skilfully lick and tease the <<print _playerToys[$_mouthDildo].name>> as you quickly bob your head back and forth along it, reveling in the lewd sensations it provides.
		<</if>>
	<</if>>

	<<if $mouthaction is "mdildolick">>
		<<set $mouthactiondefault to $mouthaction>>
		<<set $mouthaction to 0>>
		<<if $leftarm is $mouth>><<set $_mouthDildo to $currentToyLeft>><</if>>
		<<if $rightarm is $mouth>><<set $_mouthDildo to $currentToyRight>><</if>>
		<<if _playerToys[$_mouthDildo].name.includes("small")>><<set $_smallDildo to true>><</if>>
		<<arousal 100 "masturbationOral">><<set $masturbation_oralSkill++>>
		<<if $mouth is "mdildomouthentrance">>
			<<if currentSkillValue("oralskill") lt 100>>
				You gingerly lick the <<print _playerToys[$_mouthDildo].name>>'s tip, trying your best to tease it with your tongue.
			<<elseif currentSkillValue("oralskill") lt 200>>
				<<arousal 100 "masturbationOral">>
				You eagerly lick the <<print _playerToys[$_mouthDildo].name>>'s tip, doing your best to tease it with your tongue.
			<<else>>
				<<arousal 200 "masturbationOral">>
				You skilfully kiss and lick the <<print _playerToys[$_mouthDildo].name>>'s tip, lavishing attention upon it with your lips and tongue.
			<</if>>
		<<else>>
			<<if currentSkillValue("oralskill") lt 100>>
				<<if $_smallDildo>>
					You awkwardly wiggle your tongue along the bottom of the <<print _playerToys[$_mouthDildo].name>> in your mouth.
				<<else>>
					You struggle to lick along the <<print _playerToys[$_mouthDildo].name>>, its girth pinning your tongue to the bottom of your mouth.
				<</if>>
			<<elseif currentSkillValue("oralskill") lt 200>>
				<<arousal 100 "masturbationOral">>
				You wriggle your tongue along the <<print _playerToys[$_mouthDildo].name>> in your mouth, trying your best to reach as much of the toy as you can.
			<<else>>
				<<arousal 200 "masturbationOral">>
				You skillfully wriggle your tongue along the <<print _playerToys[$_mouthDildo].name>> in your mouth, occasionally adjusting your angle to reach as much of it as possible.
			<</if>>
		<</if>>
	<<elseif $mouthaction is "mdildokiss">>
		<<set $mouthactiondefault to $mouthaction>><<set $mouthaction to 0>>
		<<if $leftarm is $mouth>><<set $_mouthDildo to $currentToyLeft>><</if>>
		<<if $rightarm is $mouth>><<set $_mouthDildo to $currentToyRight>><</if>>
		<<arousal 100 "masturbationMouth">><<set $masturbation_oralSkill++>>
		<<if currentSkillValue("oralskill") lt 100>>
			You clumsily kiss along the <<print _playerToys[$_mouthDildo].name>>'s length.
		<<elseif currentSkillValue("oralskill") lt 200>>
			<<arousal 100 "masturbationMouth">>
			You kiss along the <<print _playerToys[$_mouthDildo].name>>'s length, a lewd warmth growing within you.
		<<else>>
			<<arousal 200 "masturbationMouth">>
			You lovingly plant a series of kisses along the <<print _playerToys[$_mouthDildo].name>>'s length,
			<<if $player.virginity.oral is true>>
				hoping you'll get to experience the real thing soon.
			<<else>>
				a lewd warmth growing within you as you treat it like the real thing.
			<</if>>
		<</if>>
	<<elseif $mouthaction is "mdildosuck">>
		<<set $mouthactiondefault to $mouthaction>><<set $mouthaction to 0>>
		<<if $leftarm is $mouth>><<set $_mouthDildo to $currentToyLeft>><</if>>
		<<if $rightarm is $mouth>><<set $_mouthDildo to $currentToyRight>><</if>>
		<<arousal 100 "masturbationOral">><<set $masturbation_oralSkill++>>
		<<if currentSkillValue("oralskill") lt 100>>
			You try your best to suck on the <<print _playerToys[$_mouthDildo].name>>.
		<<elseif currentSkillValue("oralskill") lt 200>>
			<<arousal 100 "masturbationOral">>
			You eagerly suck on the <<print _playerToys[$_mouthDildo].name>>.
		<<else>>
			<<arousal 200 "masturbationOral">>
			You skillfully suck on and tease the <<print _playerToys[$_mouthDildo].name>>,
			<<if $player.virginity.oral is true>>
				wondering how different a real penis would feel.
			<<elseif $ejactrait>>
				a little disappointed you won't be getting your reward when you're done.
			<<else>>
				pretending it's the real thing.
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mdildomouth" or $rightaction is "mdildomouth">>
		<<if $leftaction is "mdildomouth">><<set $leftactiondefault to "mdildopiston">><<set $leftaction to 0>><<set $leftarm to "mdildomouth">><<set $mouth to "mdildomouth">><<set $_mouthDildo to $currentToyLeft>><</if>>
		<<if $rightaction is "mdildomouth">><<set $rightactiondefault to "mdildopiston">><<set $rightaction to 0>><<set $rightarm to "mdildomouth">><<set $mouth to "mdildomouth">><<set $_mouthDildo to $currentToyRight>><</if>>
		<<if $mouthactiondefault is "mdildokiss">>
			<<set $mouthactiondefault to "mdildosuck">>
		<</if>>
		<<arousal 200 "masturbationOral">>
		You take the <<print _playerToys[$_mouthDildo].name>> into your mouth, briefly running your tongue along it as you thrust it between your lips.
	<</if>>


	/* Hand on Vagina Actions */

	<<if $leftaction is "mvaginaentrance" and $rightaction is "mvaginaentrance">>
		<<set $_actiondefault to ($player.penisExist ? "mvaginarub" : "mvaginaclit")>>
		<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mvaginaentrance">>
		<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mvaginaentrance">>
		<<arousal 400 "masturbationVagina">>
		<<if $_genitals_exposed and $bugsinside is 1>>
			<span class="blue">You run your fingers over your exposed <<pussy>>, and feel some bugs running around.</span>
			<<addVaginalWetness 2>>
		<<elseif $_genitals_exposed>>
			<span class="blue">You run your fingers over your exposed <<pussy>> and shiver in anticipation.</span>
			<<addVaginalWetness 2>>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			<span class="blue">You run your fingers over your <<pussy>>, feeling its shape beneath your $worn.lower.name.</span>
			<<addVaginalWetness 1>>
		<<elseif $worn.lower.vagina_exposed is 1>>
			<span class="blue">You run your fingers over your <<pussy>>, feeling its shape beneath your $worn.under_lower.name.</span>
			<<addVaginalWetness 1>>
		<<else>>
			<span class="blue">You run your fingers over your <<pussy>>, feeling its shape beneath your clothing.</span>
			<<addVaginalWetness 0>>
		<</if>>
	<<elseif $leftaction is "mvaginaentrance" or $rightaction is "mvaginaentrance">>
		<<set $_actiondefault to ($player.penisExist ? "mvaginarub" : "mvaginaclit")>>
		<<if $leftaction is "mvaginaentrance">>
			<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mvaginaentrance">>
		<</if>>
		<<if $rightaction is "mvaginaentrance">>
			<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mvaginaentrance">>
		<</if>>
		<<arousal 200 "masturbationVagina">>
		<<if $_genitals_exposed and $bugsinside is 1>>
			<span class="blue">You run your fingers over your exposed <<pussy>>, and feel some bugs running around.</span>
			<<addVaginalWetness 2>>
		<<elseif $_genitals_exposed>>
			<span class="blue">You run your fingers over your exposed <<pussy>> and shiver in anticipation.</span>
			<<addVaginalWetness 2>>
		<<elseif $worn.lower.vagina_exposed is 0>>
			<span class="blue">You run your fingers over your <<pussy>>, feeling its shape beneath your $worn.lower.name.</span>
			<<addVaginalWetness 0>>
		<<elseif $worn.under_lower.vagina_exposed is 0>>
			<span class="blue">You run your fingers over your <<pussy>>, feeling its shape beneath your $worn.under_lower.name.</span>
			<<addVaginalWetness 1>>
		<<else>>
			<span class="blue">You run your fingers over your <<pussy>>, feeling its shape beneath your clothing.</span>
			<<addVaginalWetness 0>>
		<</if>>
	<</if>>

	<<set $mVaginaFingerAdd to 1>>
	<<if $leftaction is "mvaginafingerstarttwo" or $leftaction is "mvaginafingeraddtwo">>
		<<set $leftaction to ($leftaction is "mvaginafingeraddtwo" ? "mvaginafingeradd" : "mvagina")>>
		<<set $mVaginaFingerAdd to 2>>
	<</if>>
	<<if $rightaction is "mvaginafingerstarttwo" or $rightaction is "mvaginafingeraddtwo">>
		<<set $rightaction to ($rightaction is "mvaginafingeraddtwo" ? "mvaginafingeradd" : "mvagina")>>
		<<set $mVaginaFingerAdd to 2>>
	<</if>>

	/* the player can only finger themself with one hand */
	<<if $leftaction is "mvagina" and $rightaction is "mvagina">>
		<<set $rightaction to "mvaginarub">>
	<</if>>

	<<if $leftaction is "mvagina" or $rightaction is "mvagina">>
		<<set $fingersInVagina += $mVaginaFingerAdd>>
		<<if $leftaction is "mvagina">>
			<<set $leftactiondefault to ($mVaginaFingerAdd is 2 and $fingersInVagina lt $vaginaFingerLimit-1 and $fingersInVagina lt 4 ? "mvaginafingeraddtwo" : "mvaginafingeradd")>>
			<<set $leftaction to 0>><<set $leftarm to "mvagina">>
			<<set $semenInVagina to ($leftFingersSemen gte 1)>>
			<<set _lubricated to ($leftFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<if $rightaction is "mvagina">>
			<<set $rightactiondefault to ($mVaginaFingerAdd is 2 and $fingersInVagina lt $vaginaFingerLimit-1 and $fingersInVagina lt 4 ? "mvaginafingeraddtwo" : "mvaginafingeradd")>>
			<<set $rightaction to 0>><<set $rightarm to "mvagina">>
			<<set $semenInVagina to ($rightFingersSemen gte 1)>>
			<<set _lubricated to ($rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<set _afinger to ($mVaginaFingerAdd is 2 ? "two _lubricated fingers" : "a _lubricated finger")>>
		<<set $_arousal to ($mVaginaFingerAdd is 2 ? 250 : 200)>>
		<<arousal $_arousal "masturbationVagina">>
		<<if $_hymenIntact>>
			<span class="purple">You push _afinger into your <<pussy>> until you poke your unblemished hymen.</span>
		<<elseif $bugsinside is 1>>
			<span class="purple">You push _afinger into your <<pussy>>. You feel insects crawling inside.</span>
		<<else>>
			<span class="purple">You push _afinger into your <<pussy>> which parts to allow the intrusion.</span>
		<</if>>

		<<addVaginalWetness 1>>
		<<set _fingeringEffects to true>>
	<</if>>

	<<if $leftaction is "mvaginafingeradd" or $rightaction is "mvaginafingeradd">>
		<<set $fingersInVagina += $mVaginaFingerAdd>>
		<<if $leftaction is "mvaginafingeradd">>
			<<set $leftactiondefault to ($fingersInVagina is $vaginaFingerLimit ? "mvaginatease" : $leftaction)>><<set $leftaction to 0>>
			<<set $semenInVagina to ($leftFingersSemen gte 1)>>
			<<set _lubricated to ($leftFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<if $rightaction is "mvaginafingeradd">>
			<<set $rightactiondefault to ($fingersInVagina is $vaginaFingerLimit ? "mvaginatease" : $rightaction)>><<set $rightaction to 0>>
			<<set $semenInVagina to ($rightFingersSemen gte 1)>>
			<<set _lubricated to ($rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<set _anotherfinger to ($mVaginaFingerAdd is 2 ? "two more _lubricated fingers" : "another _lubricated finger")>>

		<<set $_arousalGain to 200 + 50*$fingersInVagina>>
		<<arousal $_arousalGain "masturbationVagina">>
		<<if $bugsinside is 1>>
			<<if $fingersInVagina is $vaginaFingerLimit>>
				<span class="lblue">You gasp as you fit one last _lubricated finger inside yourself. You feel insects crawling inside.</span>
			<<else>>
				<span class="lblue">You stretch yourself further as you push _anotherfinger into your <<pussy>>. You feel insects crawling inside.</span>
			<</if>>
		<<else>>
			<<if $fingersInVagina is $vaginaFingerLimit>>
				<span class="lblue">You gasp as you fit one last _lubricated finger inside yourself.</span>
			<<else>>
				<span class="lblue">You stretch yourself further as you push _anotherfinger into your <<pussy>>.</span>
			<</if>>
		<</if>>

		<<addVaginalWetness $fingersInVagina>>
		<<set _fingeringEffects to true>>
	<</if>>

	<<if _fingeringEffects>>
		<<if $fingersInVagina is $vaginaFingerLimit-1>>
			<span class="purple">It's a tight fit.</span>
		<<elseif $fingersInVagina is $vaginaFingerLimit>>
			<<if $_hymenIntact>>
				<span class="pink">You can't fit any more without tearing your hymen.</span>
			<<else>>
				<span class="pink">You've reached your limit.</span>
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginafistadd" or $rightaction is "mvaginafistadd">>
		<<set $fingersInVagina to 5>>
		<<if $leftaction is "mvaginafistadd">>
			<<set $leftactiondefault to "mvaginafist">><<set $leftaction to 0>><<set $leftarm to "mvaginafist">>
			<<set $semenInVagina to ($leftFingersSemen gte 1)>>
			<<set _lubricated to ($leftFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<if $rightaction is "mvaginafistadd">>
			<<set $rightactiondefault to "mvaginafist">><<set $rightaction to 0>><<set $rightarm to "mvaginafist">>
			<<set $semenInVagina to ($rightFingersSemen gte 1)>>
			<<set _lubricated to ($rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<arousal 650 "masturbationVagina">>
		<span class="lblue">With a final push, you're able to shove all five fingers into your pussy.</span>
		You feel your muscles part for the intrusion and pulse around your hand.
		<<set $vaginastate to "penetrated">>
	<</if>>

	<<if $leftaction is "mvaginatease" or $rightaction is "mvaginatease">>
		<<if $leftaction is "mvaginatease">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "mvaginatease">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<set $_arousalGain to 300 + 50*$fingersInVagina>>
		<<arousal $_arousalGain "masturbationVagina">>
		<<set $_fingers to ($fingersInVagina is 1 ? "finger" : "fingers")>>
		<<addVaginalWetness $fingersInVagina>>
		<<if $bugsinside is 1>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $vaginaArousalWetness gte 60>>
					<<vaginaFluidActive>>
					You pump <<number $fingersInVagina>> $_fingers in and out of your <<pussy>>, coaxing out lewd fluid, along with some bugs and insects.
				<<else>>
					You pump <<number $fingersInVagina>> $_fingers in and out of your <<pussy>>, coaxing out some bugs and insects.
				<</if>>
			<<elseif $arousal gte ($arousalmax / 5) * 2>>
				You push <<number $fingersInVagina>> $_fingers in and out of your <<pussy>>, feeling the insects and bugs inside of you.
			<<else>>
				You gently fuck the entrance of your <<pussy>> with <<number $fingersInVagina>> $_fingers, pushing some of the bugs around.
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $vaginaArousalWetness gte 60>>
					<<vaginaFluidActive>>
					You pump <<number $fingersInVagina>> $_fingers in and out of your <<pussy>>, coaxing out lewd fluid.
				<<else>>
					You pump <<number $fingersInVagina>> $_fingers in and out of your <<pussy>>, pushing as deep as you can reach.
				<</if>>
			<<elseif $arousal gte ($arousalmax / 5) * 2>>
				You push <<number $fingersInVagina>> $_fingers in and out of your <<pussy>>, feeling a thrill even without going too deep.
			<<else>>
				You gently fuck the entrance of your <<pussy>> with <<number $fingersInVagina>> $_fingers.
			<</if>>
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginafist" or $rightaction is "mvaginafist">>
		<<if $leftaction is "mvaginafist">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "mvaginafist">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<arousal 500 "masturbationVagina">>
		<<addVaginalWetness 5>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $vaginaArousalWetness gte 60>>
				<<vaginaFluidActive>>
				You forcibly pound your tingling pussy with your entire hand. Your fluids drip down your wrist.
			<<else>>
				You forcibly pound your tingling pussy with your entire hand.
			<</if>>
		<<elseif $arousal gte ($arousalmax / 5) * 2>>
			You thrust your entire hand inside your pussy. Your inner walls twitch around it.
		<<else>>
			You gently move your fist inside your pussy, feeling your muscles repeatedly stretch around it.
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginaclit" and $rightaction is "mvaginaclit">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationVagina">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You press down on your clit with your thumb and rub it in a circular motion.
			You gently brush the tip with your fingers, but it becomes harder to do as you become more sensitive.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You tease the tip of your clit with your fingers.
		<<else>>
			You rub your clit with your fingers, developing a lewd feeling.
		<</if>>
		<<addVaginalWetness 3>>
	<<elseif $leftaction is "mvaginaclit" or $rightaction is "mvaginaclit">>
		<<if $leftaction is "mvaginaclit">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "mvaginaclit">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<arousal 200 "masturbationVagina">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You press down on your clit with your thumb and rub it in a circular motion, feeling your arousal build.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You tease the tip of your clit with your fingers.
		<<else>>
			You rub your clit with your fingers, developing a lewd feeling.
		<</if>>
		<<addVaginalWetness 2>>
	<</if>>

	<<if $leftaction is "mvaginarub" and $rightaction is "mvaginarub">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationVagina">>
		<<if $_genitals_exposed and $bugsinside is 1>>
			You run your fingers over your exposed <<pussy>>, and feel some bugs running around.
			<<addVaginalWetness 2>>
		<<elseif $_genitals_exposed>>
			You run your fingers over your exposed <<pussy>> and shiver in anticipation.
			<<addVaginalWetness 2>>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			You run your fingers over your <<pussy>>, feeling its shape beneath your $worn.lower.name.
			<<addVaginalWetness 1>>
		<<elseif $worn.lower.vagina_exposed is 1>>
			You run your fingers over your <<pussy>>, feeling its shape beneath your $worn.under_lower.name.
			<<addVaginalWetness 2>>
		<<else>>
			You run your fingers over your <<pussy>>, feeling its shape beneath your clothing.
			<<addVaginalWetness 0>>
		<</if>>
	<<elseif $leftaction is "mvaginarub" or $rightaction is "mvaginarub">>
		<<if $leftaction is "mvaginarub">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "mvaginarub">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<arousal 200 "masturbationVagina">>
		<<if $_genitals_exposed and $bugsinside is 1>>
			You run your finger over your exposed <<pussy>>, and feel some bugs running around.
			<<addVaginalWetness 2>>
		<<elseif $_genitals_exposed>>
			You run your finger over your exposed <<pussy>> and shiver in anticipation.
			<<addVaginalWetness 2>>
		<<elseif $worn.under_lower.vagina_exposed is 1>>
			You run your finger over your <<pussy>>, feeling its shape beneath your $worn.lower.name.
			<<addVaginalWetness 0>>
		<<elseif $worn.lower.vagina_exposed is 1>>
			You run your finger over your <<pussy>>, feeling its shape beneath your $worn.under_lower.name.
			<<addVaginalWetness 1>>
		<<else>>
			You run your finger over your <<pussy>>, feeling its shape beneath your clothing.
			<<addVaginalWetness 0>>
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginastop" and $rightaction is "mvaginastop">>
		<<set $fingersInVagina to 0>>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move your hands away from your <<pussy>>.</span>
	<<elseif $leftaction is "mvaginastop">>
		<<if $leftarm is "mvagina">> <<set $fingersInVagina to 0>> <</if>>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="lblue">You move your left hand away from your <<pussy>>.</span>
	<<elseif $rightaction is "mvaginastop">>
		<<if $rightarm is "mvagina">> <<set $fingersInVagina to 0>> <</if>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move your right hand away from your <<pussy>>.</span>
	<</if>>

	<<if $leftaction is "mvaginafingerremove" or $rightaction is "mvaginafingerremove">>
		<<set $fingersInVagina -= 1>>
		<<if $fingersInVagina gte 1>>
			<<if $leftaction is "mvaginafingerremove">>
				<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<else>>
				<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<</if>>
			<span class="lblue">You take one finger out of your <<pussy>>.</span>
		<<else>>
			<<if $leftaction is "mvaginafingerremove">>
				<<set $leftactiondefault to "mvaginarub">><<set $leftaction to 0>><<set $leftarm to "mvaginaentrance">>
			<<else>>
				<<set $rightactiondefault to "mvaginarub">><<set $rightaction to 0>><<set $rightarm to "mvaginaentrance">>
			<</if>>
			<span class="lblue">You take your finger out of your <<pussy>>.</span>
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginafistremove" or $rightaction is "mvaginafistremove">>
		<<set $fingersInVagina to 0>>
		<<if $leftaction is "mvaginafistremove">>
			<<set $leftactiondefault to "mvaginarub">><<set $leftaction to 0>><<set $leftarm to "mvaginaentrance">>
		<<else>>
			<<set $rightactiondefault to "mvaginarub">><<set $rightaction to 0>><<set $rightarm to "mvaginaentrance">>
		<</if>>
		<<arousal 1000 "masturbationVagina">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<span class="lblue">You slide your whole hand out of your <<pussy>>. You feel your muscles twitching in protest as fluids drip out.</span>
		<<elseif $arousal gte ($arousalmax / 5) * 2>>
			<span class="lblue">You slide your whole hand out of your <<pussy>>, leaving you feeling empty.</span>
		<<else>>
			<span class="lblue">You slide your whole hand out of your <<pussy>>. You feel your muscles relax.</span>
		<</if>>
		<<set $vaginastate to 0>>
	<</if>>

	<<if $leftaction is "mvaginaentrancedildo" and $rightaction is "mvaginaentrancedildo">>
		<<set $_actiondefault to "mvaginadildo">>
		<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mvaginadildo">>
		<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mvaginadildo">>
		<<arousal 400 "masturbationVagina">>
		<<if $_genitals_exposed and $worn.genitals.vagina_exposed gte 1>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your exposed <<pussy>> and shiver in anticipation.</span>
			<<addVaginalWetness 2>>
		<<elseif $worn.genitals.vagina_exposed is 0>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<pussy>>, feeling its shape beneath your $worn.genitals.name.</span>
			<<addVaginalWetness 1>>
		<<elseif $worn.under_lower.vagina_exposed is 0>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<pussy>>, feeling its shape beneath your $worn.lower.name.</span>
			<<addVaginalWetness 1>>
		<<elseif $worn.lower.vagina_exposed is 0>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<pussy>>, feeling its shape beneath your $worn.under_lower.name.</span>
			<<addVaginalWetness 1>>
		<<else>>
			<span class="blue">You run your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> over your <<pussy>>, feeling its shape beneath your clothing.</span>
			<<addVaginalWetness 0>>
		<</if>>
	<<elseif $leftaction is "mvaginaentrancedildo">>
		<<set $_actiondefault to "mvaginadildo">>
		<<set $leftactiondefault to $_actiondefault>><<set $leftaction to 0>><<set $leftarm to "mvaginaentrancedildo">>
		<<arousal 200 "masturbationVagina">>
		<span class="blue">You pick up your <<toyName $currentToyLeft>> and run it over your exposed <<pussy>>,
			<<if $_genitals_exposed>>
				shivering in anticipation.
				<<addVaginalWetness 2>>
			<<elseif $worn.lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.lower.name.
				<<addVaginalWetness 0>>
			<<elseif $worn.under_lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.under_lower.name.
				<<addVaginalWetness 1>>
			<<else>>
				feeling its shape beneath your clothing.
				<<addVaginalWetness 0>>
			<</if>>
		</span>
	<<elseif $rightaction is "mvaginaentrancedildo">>
		<<set $_actiondefault to "mvaginadildo">>
		<<set $rightactiondefault to $_actiondefault>><<set $rightaction to 0>><<set $rightarm to "mvaginaentrancedildo">>
		<<arousal 200 "masturbationVagina">>
		<span class="blue">You pick up your <<toyName $currentToyRight>> and run it over your exposed <<pussy>>,
			<<if $_genitals_exposed>>
				shivering in anticipation.
				<<addVaginalWetness 2>>
			<<elseif $worn.lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.lower.name.
				<<addVaginalWetness 0>>
			<<elseif $worn.under_lower.vagina_exposed is 0>>
				feeling its shape beneath your $worn.under_lower.name.
				<<addVaginalWetness 1>>
			<<else>>
				feeling its shape beneath your clothing.
				<<addVaginalWetness 0>>
			<</if>>
		</span>
	<</if>>

	<<if $leftaction is "mvaginadildo" or $rightaction is "mvaginadildo">>
		<<if $leftaction is "mvaginadildo">>
			<<set $_toy to getToyName($currentToyLeft)>>
			<<set $leftactiondefault to "mvaginateasedildo">><<set $leftaction to 0>><<set $leftarm to "mvaginadildo">>
			<<set $semenInVagina to ($leftFingersSemen gte 1)>>
			<<set _lubricated to ($leftFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<if $rightaction is "mvaginadildo">>
			<<set $_toy to getToyName($currentToyRight)>>
			<<set $rightactiondefault to "mvaginateasedildo">><<set $rightaction to 0>><<set $rightarm to "mvaginadildo">>
			<<set $semenInVagina to ($rightFingersSemen gte 1)>>
			<<set _lubricated to ($rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<if $rightarm is "mvaginadildo" and $leftarm is "mvaginadildo">>
			<<set $_toy to getToyName($currentToyLeft) + " and " + getToyName($currentToyRight)>>
			<<arousal 50 "masturbationVagina">>
		<</if>>
		<<arousal 250 "masturbationVagina">>
		<<if $_hymenIntact>>
			<span class="purple">You push the _lubricated $_toy into your <<pussy>> until you poke your unblemished hymen.</span>
		<<elseif $bugsinside is 1>>
			<span class="purple">You push the _lubricated $_toy into your <<pussy>>. You feel insects crawling inside.</span>
		<<else>>
			<span class="purple">You push the _lubricated $_toy into your <<pussy>> which parts to allow the intrusion.</span>
		<</if>>

		<<addVaginalWetness 1>>
	<</if>>

	<<if $leftaction is "mvaginateasedildo" or $rightaction is "mvaginateasedildo">>
		/* set toy or toys */
		<<if $leftaction is "mvaginateasedildo" and $rightaction is "mvaginateasedildo">>
			<<set $_toy to ($currentToyLeft is $currentToyRight ? _playerToys[$currentToyLeft].name+"s" : _playerToys[$currentToyLeft].name + " and " + _playerToys[$currentToyRight].name)>>
		<<elseif $rightaction is "mvaginateasedildo">>
			<<set $_toy to _playerToys[$currentToyRight].name>>
		<<elseif $leftaction is "mvaginateasedildo">>
			<<set $_toy to _playerToys[$currentToyLeft].name>>
		<</if>>
		/* set actions */
		<<if $leftaction is "mvaginateasedildo">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "mvaginateasedildo">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		/* arousal gains */
		<<set $_toypleasure to 2>>
		<<if $leftaction is "mvaginateasedildo" and $rightaction isnot "mvaginateasedildo">>
			<<if $currentToyLeft is "dildo">>
				<<set $_toypleasure to 3>>
			<<elseif $currentToyLeft.includes("vibe")>>
				<<set $_toypleasure to 5>>
			<</if>>
		<<elseif $rightaction is "mvaginateasedildo" and $leftaction isnot "mvaginateasedildo">>
			<<if $currentToyRight is "dildo">>
				<<set $_toypleasure to 3>>
			<<elseif $currentToyRight.includes("vibe")>>
				<<set $_toypleasure to 5>>
			<</if>>
		<</if>>
		<<set $_arousalGain to 300 + 50*$_toypleasure>>
		<<arousal $_arousalGain "masturbationVagina">>
		<<addVaginalWetness $_toypleasure>>
		/* set vaginal wetness text */
		<<set $_wet to "">>
		<<if $vaginaArousalWetness gte 40>>
			<<set $_wet to "wet">>
		<<elseif $vaginaArousalWetness gte 20>>
			<<set $_wet to "slick">>
		<</if>>
		/* display action text */

		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $vaginaArousalWetness gte 60>>
				<<vaginaFluidActive>>
				You pump your $_toy in and out of your $_wet <<pussy>>, coaxing out lewd fluid.
			<<else>>
				You pump your $_toy in and out of your $_wet <<pussy>>, pushing as deep as you can reach.
			<</if>>
		<<elseif $arousal gte ($arousalmax / 5) * 2>>
			You push your $_toy in and out of your $_wet <<pussy>>, feeling a thrill even without going too deep.
		<<else>>
			You gently fuck the entrance of your $_wet <<pussy>> with your $_toy.
		<</if>>
	<</if>>

	<<if $leftaction is "mvaginaclitdildo" and $rightaction is "mvaginaclitdildo">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<if $_lefttoy.includes("vibe") or $_righttoy.includes("vibe")>>
			<<arousal 50 "masturbationVagina">>
		<<elseif $_lefttoy.includes("vibe") and $_righttoy.includes("vibe")>>
			<<arousal 100 "masturbationVagina">>
		<</if>>
		<<arousal 400 "masturbationVagina">>
		<<set $_toys to getToyName($currentToyLeft) + " and " + getToyName($currentToyRight)>>
		<<if $currentToyLeft is $currentToyRight>>
			<!-- Get a function to standardise this -->
			<<set $_toys to getToyName($currentToyLeft) + "s">>
		<</if>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You press down on your clit with your $_toys and rub it in a circular motion.
			You gently brush the tip with your $_toys, but it becomes harder to do as you become more sensitive.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You tease the tip of your clit with your $_toys.
		<<else>>
			You rub your clit with your $_toys, developing a lewd feeling.
		<</if>>
		<<addVaginalWetness 3>>
	<<elseif $leftaction is "mvaginaclitdildo" or $rightaction is "mvaginaclitdildo">>
		<<if $leftaction is "mvaginaclitdildo">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>

			<<if $arousal gte ($arousalmax / 5) * 4>>
				You press down on your clit with your <<toyName $currentToyLeft>> and rub it in a circular motion, feeling your arousal build.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You tease the tip of your clit with your <<toyName $currentToyLeft>>.
			<<else>>
				You rub your clit with your <<toyName $currentToyLeft>>, developing a lewd feeling.
			<</if>>
		<</if>>
		<<if $rightaction is "mvaginaclitdildo">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				You press down on your clit with your <<toyName $currentToyRight>> and rub it in a circular motion, feeling your arousal build.
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				You tease the tip of your clit with your <<toyName $currentToyRight>>.
			<<else>>
				You rub your clit with your <<toyName $currentToyRight>>, developing a lewd feeling.
			<</if>>
		<</if>>
		<<if $_lefttoy isnot undefined and $_lefttoy.includes("vibe") or $_righttoy isnot undefined and $_righttoy.includes("vibe")>>
			<<arousal 50 "masturbationVagina">>
		<</if>>
		<<arousal 200 "masturbationVagina">>
		<<addVaginalWetness 2>>
	<</if>>

	<<if $leftaction is "mvaginastopdildo" and $rightaction is "mvaginastopdildo">>
		<<set $fingersInVagina to 0>>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move the <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> away from your <<pussy>>.</span>
		<<set $currentToyRight to "none">><<set $currentToyLeft to "none">>
	<<elseif $leftaction is "mvaginastopdildo">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="lblue">You move the <<print _playerToys[$currentToyLeft].colour or "">> _playerToys[$currentToyLeft].name in your left hand away from your <<pussy>>.</span>
		<<set $currentToyLeft to "none">>
	<<elseif $rightaction is "mvaginastopdildo">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="lblue">You move the <<print _playerToys[$currentToyRight].colour or "">> _playerToys[$currentToyRight].name in your right hand away from your <<pussy>>.</span>
		<<set $currentToyRight to "none">>
	<</if>>

	<<if $player.vaginaExist>>
		<<if $vaginaArousalWetness gte 60>>
			<<if $worn.under_lower.vagina_exposed is 1 and $worn.lower.vagina_exposed is 1>>
				<<vaginaFluidPassive>>
				<<if _lube_released gt 0>>
					<span class="pink">Juices leak from your <<pussy>>.</span>
				<</if>>
			<<elseif $worn.under_lower.vagina_exposed is 0 and $underlowerwetstage lt 3>>
				<span class="pink">Juices leak from your <<pussy>> and dampen your $worn.under_lower.name.</span>
				<<underlowerwet 1>>
			<<elseif $worn.lower.vagina_exposed is 0>>
				<span class="pink">Juices leak from your <<pussy>><<if $underlowerwet gte 60>>, soak through your $worn.under_lower.name,<</if>> and dampen your $worn.lower.name.</span>
			<<else>>
				<span class="pink">Juices leak from your <<pussy>> and dampen your clothing.</span>
			<</if>>
		<</if>>
	<</if>>

	/* Anus */
	<<if $leftaction is "manusentrance" and $rightaction is "manusentrance">>
		<<set $leftactiondefault to "manusrub">><<set $leftaction to 0>><<set $leftarm to "manusentrance">>
		<<set $rightactiondefault to "manusrub">><<set $rightaction to 0>><<set $rightarm to "manusentrance">>
		<<arousal 200 "masturbationAss">>
		<<if $worn.under_lower.anus_exposed is 1 and $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your exposed <<bottom>> and gently press your fingers against your anus.</span>
		<<elseif $worn.under_lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your fingers against your anus through your $worn.lower.name.</span>
		<<elseif $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your fingers against your anus through your $worn.under_lower.name.</span>
		<</if>>
	<<elseif $leftaction is "manusentrance" or $rightaction is "manusentrance">>
		<<if $leftaction is "manusentrance">>
			<<set $leftactiondefault to "manusrub">><<set $leftaction to 0>><<set $leftarm to "manusentrance">>
		<</if>>
		<<if $rightaction is "manusentrance">>
			<<set $rightactiondefault to "manusrub">><<set $rightaction to 0>><<set $rightarm to "manusentrance">>
		<</if>>
		<<arousal 200 "masturbationAss">>
		<<if $worn.under_lower.anus_exposed is 1 and $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your exposed <<bottom>> and gently press a finger against your anus.</span>
		<<elseif $worn.under_lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press a finger against your anus through your $worn.lower.name.</span>
		<<elseif $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press a finger against your anus through your $worn.under_lower.name.</span>
		<</if>>
	<</if>>

	<<if $leftaction is "manus" and $rightaction is "manus">>
		<<set $leftactiondefault to "manustease">><<set $leftaction to 0>><<set $leftarm to "manus">>
		<<set $rightactiondefault to "manustease">><<set $rightaction to 0>><<set $rightarm to "manus">>
		<<arousal 200 "masturbationAnal">>
		<<set _lubricated to ($leftFingersSemen gte 1 or $rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<<if _lubricated.length>><<set $semenInAnus to true>><</if>>
		<span class="purple">You push two _lubricated fingers into your <<bottom>>.</span>
	<<elseif $leftaction is "manus" or $rightaction is "manus">>
		<<if $leftaction is "manus">>
			<<set $leftactiondefault to "manustease">><<set $leftaction to 0>><<set $leftarm to "manus">>
			<<set $semenInAnus to ($leftFingersSemen gte 1)>>
			<<set _lubricated to ($leftFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<<elseif $rightaction is "manus">>
			<<set $rightactiondefault to "manustease">><<set $rightaction to 0>><<set $rightarm to "manus">>
			<<set $semenInAnus to ($rightFingersSemen gte 1)>>
			<<set _lubricated to ($rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<</if>>
		<<arousal 200 "masturbationAnal">>
		<span class="purple">You push a _lubricated finger into your <<bottom>>.</span>
	<</if>>

	<<if $leftaction is "manusrub" and $rightaction is "manusrub">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationAnal">>
		<<print either(
			"You keep your fingers pressed between your <<bottom>> cheeks and gently prod your anus.",
			"You rub your anus in a circular motion.",
			"You push your fingers against your anus. You feel it open a little bit."
		)>>
	<<elseif $leftaction is "manusrub" or $rightaction is "manusrub">>
		<<if $leftaction is "manus">>
			<<set $leftactiondefault to "manustease">><<set $leftaction to 0>><<set $leftarm to "manus">>
		<<elseif $rightaction is "manus">>
			<<set $rightactiondefault to "manustease">><<set $rightaction to 0>><<set $rightarm to "manus">>
		<</if>>
		<<arousal 200 "masturbationAnal">>
		<<print either(
			"You keep your fingers pressed between your <<bottom>> cheeks and gently prod your anus.",
			"You rub your anus in a circular motion.",
			"You push your fingers against your anus. You feel it open a little bit."
		)>>
	<</if>>

	<<if $leftaction is "manustease" and $rightaction is "manustease">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 400 "masturbationAnal">>
		<<print either(
			"You gently explore inside your <<bottom>> with your fingers.",
			"You slowly push your fingers into and out of your anus.",
			"You fuck your <<bottom>> with your fingers. You feel naughty about playing with such a place."
		)>>
	<<elseif $leftaction is "manustease" or $rightaction is "manustease">>
		<<if $leftaction is "manustease">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "manustease">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<arousal 200 "masturbationAnal">>
		<<print either(
			"You gently explore inside your <<bottom>> with your finger.",
			"You slowly push your finger into and out of your anus.",
			"You fuck your <<bottom>> with your fingers. You feel naughty about playing with such a place."
		)>>
	<</if>>

	<<if $leftaction is "manusprostate" and $rightaction is "manusprostate">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 600 "masturbationAnal">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You stroke your prostate, milking it of semen and making you shudder.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You press against your prostate, causing an almost unbearably pleasurable feeling of vulnerability.
		<<else>>
			You gently prod your prostate, each poke sending a wave of pleasure through your body.
		<</if>>
	<<elseif $leftaction is "manusprostate" or $rightaction is "manusprostate">>
		<<if $leftaction is "manusprostate">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<</if>>
		<<if $rightaction is "manusprostate">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<</if>>
		<<arousal 300 "masturbationAnal">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You stroke your prostate, milking it of semen and making you shudder.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You press against your prostate, causing an almost unbearably pleasurable feeling of vulnerability.
		<<else>>
			You gently prod your prostate, each poke sending a wave of pleasure through your body.
		<</if>>
	<</if>>

	<<if $leftaction is "manusstop" and $rightaction is "manusstop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your hands away from your <<bottom>>.</span>

	<<elseif $leftaction is "manusstop">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="purple">You move your left hand away from your <<bottom>>.</span>

	<<elseif $rightaction is "manusstop">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your right hand away from your <<bottom>>.</span>
	<</if>>

	<<if $leftaction is "manusentrancedildo" and $rightaction is "manusentrancedildo">>
		<<set $leftactiondefault to "manusrubdildo">><<set $leftaction to 0>><<set $leftarm to "manusentrancedildo">>
		<<set $rightactiondefault to "manusrubdildo">><<set $rightaction to 0>><<set $rightarm to "manusentrancedildo">>
		<<arousal 300 "masturbationAss">>
		<<if $worn.under_lower.anus_exposed is 1 and $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your exposed <<bottom>> and gently press your <<toyName $currentToyLeft>> and your <<toyName $currentToyRight>> against your anus.</span>
		<<elseif $worn.under_lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your <<toyName $currentToyLeft>> and your <<toyName $currentToyRight>> against your anus through your $worn.lower.name.</span>
		<<elseif $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your <<toyName $currentToyLeft>> and your <<toyName $currentToyRight>> against your anus through your $worn.under_lower.name.</span>
		<</if>>
	<<elseif $leftaction is "manusentrancedildo">>
		<<set $leftactiondefault to "manusrubdildo">><<set $leftaction to 0>><<set $leftarm to "manusentrancedildo">>
		<<arousal 200 "masturbationAss">>
		<<if $worn.under_lower.anus_exposed is 1 and $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your exposed <<bottom>> and gently press your <<toyName $currentToyLeft>> against your anus.</span>
		<<elseif $worn.under_lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your <<toyName $currentToyLeft>> against your anus through your $worn.lower.name.</span>
		<<elseif $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your <<toyName $currentToyLeft>> against your anus through your $worn.under_lower.name.</span>
		<</if>>
	<<elseif $rightaction is "manusentrancedildo">>
		<<set $rightaction to 0>><<set $rightarm to "manusentrancedildo">>
		<<set $rightactiondefault to "manusrubdildo">><<set $rightaction to 0>><<set $rightarm to "manusentrancedildo">>
		<<arousal 200 "masturbationAss">>
		<<if $worn.under_lower.anus_exposed is 1 and $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your exposed <<bottom>> and gently press your <<toyName $currentToyRight>> against your anus.</span>
		<<elseif $worn.under_lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your <<toyName $currentToyRight>> against your anus through your $worn.lower.name.</span>
		<<elseif $worn.lower.anus_exposed is 1>>
			<span class="blue">You reach down to your <<bottom>> and gently press your <<toyName $currentToyRight>> against your anus through your $worn.under_lower.name.</span>
		<</if>>
	<</if>>

	<<if $leftaction is "manusdildo" and $rightaction is "manusdildo">>
		<<set $leftactiondefault to "manusteasedildo">><<set $leftaction to 0>><<set $leftarm to "manusdildo">>
		<<set $rightactiondefault to "manusteasedildo">><<set $rightaction to 0>><<set $rightarm to "manusdildo">>
		<<arousal 500 "masturbationAnal">>
		<<set _lubricated to ($leftFingersSemen gte 1 or $rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
		<<if _lubricated.length>><<set $semenInAnus to true>><</if>>
		<span class="purple">You push your _lubricated <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> into your <<bottom>>.</span>
	<<elseif $leftaction is "manusdildo" or $rightaction is "manusdildo">>
		<<if $leftaction is "manusdildo">>
			<<set $leftactiondefault to "manusteasedildo">><<set $leftaction to 0>><<set $leftarm to "manusdildo">>
			<<set $semenInAnus to ($leftFingersSemen gte 1)>>
			<<set _lubricated to ($leftFingersSemen gte 1 ? "semen-lubricated" : "")>>
			<span class="purple">You push your _lubricated <<toyName $currentToyLeft>> into your <<bottom>>.</span>
		<<elseif $rightaction is "manusdildo">>
			<<set $rightactiondefault to "manusteasedildo">><<set $rightaction to 0>><<set $rightarm to "manusdildo">>
			<<set $semenInAnus to ($rightFingersSemen gte 1)>>
			<<set _lubricated to ($rightFingersSemen gte 1 ? "semen-lubricated" : "")>>
			<span class="purple">You push your _lubricated <<toyName $currentToyRight>> into your <<bottom>>.</span>
		<</if>>
		<<arousal 250 "masturbationAnal">>
	<</if>>

	<<if $leftaction is "manusrubdildo" and $rightaction is "manusrubdildo">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 500 "masturbationAnal">>
		<<print either(
			"You keep your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> between your <<bottom>> cheeks and gently prod your anus.",
			"You rub your anus in a circular motion with your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>.",
			"You push your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> against your anus. You feel it open a little bit."
		)>>
	<<elseif $leftaction is "manusrubdildo" or $rightaction is "manusrubdildo">>
		<<if $leftaction is "manusrubdildo">>
			<<set $leftactiondefault to "manusrubdildo">><<set $leftaction to 0>><<set $leftarm to "manusentrancedildo">>
			<<arousal 250 "masturbationAnal">>
			<<print either(
				"You keep your <<toyName $currentToyLeft>> pressed between your <<bottom>> cheeks and gently prod your anus.",
				"You rub your anus in a circular motion with your <<toyName $currentToyLeft>>.",
				"You push your <<toyName $currentToyLeft>> against your anus. You feel it open a little bit."
			)>>
		<<elseif $rightaction is "manusrubdildo">>
			<<set $rightactiondefault to "manusrubdildo">><<set $rightaction to 0>><<set $rightarm to "manusentrancedildo">>
			<<print either(
				"You keep your <<toyName $currentToyRight>> pressed between your <<bottom>> cheeks and gently prod your anus.",
				"You rub your anus in a circular motion with your <<toyName $currentToyRight>>.",
				"You push your <<toyName $currentToyRight>> against your anus. You feel it open a little bit."
			)>>
			<<arousal 250 "masturbationAnal">>
		<</if>>
	<</if>>

	<<if $leftaction is "manusteasedildo" and $rightaction is "manusteasedildo">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 500 "masturbationAnal">>
		<<print either(
			"You gently explore inside your <<bottom>> with your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>.",
			"You slowly push your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>colour $_righttoy into and out of your anus.",
			"You fuck your <<bottom>> with your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>. You feel naughty about playing with such a place."
		)>>
	<<elseif $leftaction is "manusteasedildo" or $rightaction is "manusteasedildo">>
		<<if $leftaction is "manusteasedildo">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<print either(
				"You gently explore inside your <<bottom>> with your <<toyName $currentToyLeft>>.",
				"You slowly push your <<toyName $currentToyLeft>> into and out of your anus.",
				"You fuck your <<bottom>> with your <<toyName $currentToyLeft>>. You feel naughty about playing with such a place."
			)>>
		<</if>>
		<<if $rightaction is "manusteasedildo">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<print either(
				"You gently explore inside your <<bottom>> with your <<toyName $currentToyRight>>.",
				"You slowly push your <<toyName $currentToyRight>> into and out of your anus.",
				"You fuck your <<bottom>> with your <<toyName $currentToyRight>>. You feel naughty about playing with such a place."
			)>>
		<</if>>
		<<arousal 250 "masturbationAnal">>
	<</if>>

	<<if $leftaction is "manusprostatedildo" and $rightaction is "manusprostatedildo">>
		<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
		<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
		<<arousal 700 "masturbationAnal">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You stroke your prostate with your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>, milking it of semen and making you shudder.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You press against your prostate with your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>, causing an almost unbearably pleasurable feeling of vulnerability.
		<<else>>
			You gently prod your prostate with your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>>, each poke sending a wave of pleasure through your body.
		<</if>>
	<<elseif $leftaction is "manusprostatedildo" or $rightaction is "manusprostatedildo">>
		<<if $leftaction is "manusprostatedildo">>
			<<set $leftactiondefault to $leftaction>><<set $leftaction to 0>>
			<<set $_toy to getToyName($currentToyLeft)>>
		<</if>>
		<<if $rightaction is "manusprostatedildo">>
			<<set $rightactiondefault to $rightaction>><<set $rightaction to 0>>
			<<set $_toy to getToyName($currentToyRight)>>
		<</if>>
		<<arousal 350 "masturbationAnal">>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			You stroke your prostate with your $_toy, milking it of semen and making you shudder.
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
			You press against your prostate with your $_toy, causing an almost unbearably pleasurable feeling of vulnerability.
		<<else>>
			You gently prod your prostate with your $_toy, each poke sending a wave of pleasure through your body.
		<</if>>
	<</if>>

	<<if $leftaction is "manusstopdildo" and $rightaction is "manusstopdildo">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your <<toyName $currentToyLeft>> and <<toyName $currentToyRight>> away from your <<bottom>>.</span>

	<<elseif $leftaction is "manusstopdildo">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>>
		<span class="purple">You move your _playerToys[$currentToyLeft].name in your left hand away from your <<bottom>>.</span>

	<<elseif $rightaction is "manusstopdildo">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>>
		<span class="purple">You move your _playerToys[$currentToyRight].name in your right hand away from your <<bottom>>.</span>
	<</if>>

	<<if $leftaction is "mmouthstopdildo">>
		<<set $leftactiondefault to "mrest">><<set $leftaction to 0>><<set $leftarm to 0>><<set $mouth to 0>>
		<span class="purple">You move your _playerToys[$currentToyLeft].name in your left hand away from your mouth.</span>
	<<elseif $rightaction is "mmouthstopdildo">>
		<<set $rightactiondefault to "mrest">><<set $rightaction to 0>><<set $rightarm to 0>><<set $mouth to 0>>
		<span class="purple">You move your _playerToys[$currentToyRight].name in your right hand away from your mouth.</span>
	<</if>>


	<<rng>>
	<<if $leftaction is "mrest">>
		<<set $leftactiondefault to 0>>
		<<if $rng gte 91 and $earSlime.corruption gt (currentSkillValue('willpower') / 10) and $corruptionMasturbation is undefined>>
			<<set $corruptionMasturbation to true>>
			<<set $corruptionMasturbationCount to random(2,6)>>
			<span class="red">The slime in your ear decides that it will continue for you.</span>
		<<else>>
			<<set $leftactiondefault to "mrest">>
			<<set $leftaction to 0>>
		<</if>>
	<</if>>
	<<rng>>
	<<if $rightaction is "mrest">>
		<<set $rightactiondefault to 0>>
		<<if $rng gte 91 and $earSlime.corruption gt (currentSkillValue('willpower') / 10) and $corruptionMasturbation is undefined>>
			<<set $corruptionMasturbation to true>>
			<<set $corruptionMasturbationCount to random(2,6)>>
			<span class="red">The slime in your ear decides that it will continue for you.</span>
		<<else>>
			<<set $rightactiondefault to "mrest">>
			<<set $rightaction to 0>>
		<</if>>
	<</if>>
	<<rng>>
	<<if $rng gte Math.clamp(135 - ($earSlime.corruption / 2),80,98) and $earSlime.corruption gt (currentSkillValue('willpower') / 10) and $corruptionMasturbation is undefined>>
		<<set $corruptionMasturbation to true>>
		<<set $corruptionMasturbationCount to random(1,4)>>
		<span class="red">The slime in your ear decides that it wants you to have more fun.</span>
	<</if>>
	<br><br>
<</widget>>
